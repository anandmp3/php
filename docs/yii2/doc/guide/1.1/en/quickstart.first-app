<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    	<meta charset="UTF-8" />
		<meta name="keywords" content="yii framework, tutorial, guide, version 1.1" />
	<meta name="description" content="To give you an initial experience with Yii, in this section we describe how to
create your first Yii application." />
    <link rel="shortcut icon" type="image/x-icon" href="http://static.yiiframework.com/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="http://static.yiiframework.com/css/site-20130404102234.css" />

	<link title="Lives News for Yii Framework" rel="alternate" type="application/rss+xml" href="http://www.yiiframework.com/rss.xml/" />
	<title>Getting Started: Creating First Yii Application | The Definitive Guide to Yii | Yii PHP Framework</title>
	<link rel="search" type="application/opensearchdescription+xml" title="Yii API Search" href="/search-api.xml" />
	<link rel="search" type="application/opensearchdescription+xml" title="Yii Site Search" href="/search-site.xml" />
</head>

<body class="mac">
<div class="layout-main">

	<div class="layout-main-shortcuts">
		<div class="container_12">
            <a style="color:darkred;" href="https://github.com/yiisoft/yii2">Github</a> &middot;
            <a style="color:darkgreen;" href="https://twitter.com/yiiframework">Twitter</a> &middot;
            <a style="color:darkblue;" href="https://www.facebook.com/groups/yiitalk/">Facebook</a> &middot;
            <a href="/doc/guide/">Guide</a> &middot;
            <a href="/doc/api/">Class Reference</a> &middot;
            <a href="/doc-2.0/guide-index.html">Guide 2.0</a> &middot;
            <a href="/doc-2.0/index.html">API 2.0</a> &middot;
            <a href="/wiki/">Wiki</a> &middot;
            <a href="/extensions/">Extensions</a> &middot;
            <a href="/forum/">Forum</a> &middot;
			<a href="/chat/">Live Chat</a> &middot;
                            <a href="/login/">Login</a>            		</div>
	</div>

	<div class="layout-main-bg">
		<div class="layout-main-header">
			<div class="container_12">
				<div class="grid_4">
					<a class="logo" href="/"><img alt="Yii Logo" src="http://static.yiiframework.com/css/img/logo.png" title="Yii Framework" width="284" height="64" /></a>				</div>
				<div class="grid_8 omega">
					<div class="nav">
						<ul class="menu" id="yw0">
<li class="about"><a class="main" href="/about/">About</a>
<ul>
<li><a href="/about/">About Yii</a></li>
<li><a href="/features/">Features</a></li>
<li><a href="/performance/">Performance</a></li>
<li><a href="/license/">License</a></li>
<li class="last"><a href="/contact/">Contact Us</a></li>
</ul>
</li>
<li class="downloads"><a class="main" href="/download/">Downloads</a>
<ul>
<li><a href="/download/">Framework</a></li>
<li><a href="/extensions/">Extensions</a></li>
<li><a href="/demos/">Demos</a></li>
<li class="last"><a href="/logo/">Logo</a></li>
</ul>
</li>
<li class="documentation active"><a class="main" href="/doc/">Documentation</a>
<ul>
<li><a href="/tour/">Take the Tour</a></li>
<li class="active"><a href="/tutorials/">Tutorials</a></li>
<li><a href="/doc/api/">Class Reference</a></li>
<li><a href="/doc-2.0/guide-index.html">Guide 2.0</a></li>
<li><a href="/doc-2.0/index.html">Class Reference 2.0</a></li>
<li><a href="/wiki/">Wiki</a></li>
<li><a href="/screencasts/">Screencasts</a></li>
<li class="last"><a href="/resources/">Resources</a></li>
</ul>
</li>
<li class="development"><a class="main" href="https://github.com/yiisoft/yii/commits/master">Development</a>
<ul>
<li><a href="/contribute/">Contribute to Yii</a></li>
<li><a href="https://github.com/yiisoft/yii/commits/master">Latest Updates</a></li>
<li><a href="https://github.com/yiisoft/yii/issues/new">Report a Bug</a></li>
<li class="last"><a href="/security/">Report a Security Issue</a></li>
</ul>
</li>
<li class="community last"><a class="main" href="/community/">Community</a>
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/chat/">Live Chat</a></li>
<li><a href="/news/">News</a></li>
<li><a href="/user/halloffame/">Hall of Fame</a></li>
<li class="last"><a href="/badges/">Badges</a></li>
</ul>
</li>
</ul>						<div class="search">
							<form method="get" action="/search/">
								<div class="keyword">
	                                <input name="q" value="" />
									<a href="#" title="search" class="global-search">search</a>
								</div>
							</form>
						</div>
					</div>
				</div>
				<div class="clear"></div>
			</div>
		</div>

		<div class="container_12">
						<div class="grid_12">
												<div class="layout-main-submenu">
					<ul>
						<li class="main">Documentation</li>
												<li><a href="/tour/">Take the Tour</a></li>
												<li class="active"><a href="/tutorials/">Tutorials</a></li>
												<li><a href="/doc/api/">Class Reference</a></li>
												<li><a href="/doc-2.0/guide-index.html">Guide 2.0</a></li>
												<li><a href="/doc-2.0/index.html">Class Reference 2.0</a></li>
												<li><a href="/wiki/">Wiki</a></li>
												<li><a href="/screencasts/">Screencasts</a></li>
												<li><a href="/resources/">Resources</a></li>
											</ul>
				</div>
				
				
				
									<div class="layout-main-body">
						<div class="tutorial-view">
    <div class="grid_3 alpha">
        <div class="nav-toc">
    		<div class="title">The Definitive Guide to Yii</div>
    		<div class="langver">
	            <strong>Language &amp; version</strong>
	    		<div class="languages g-dropdown">
	    		<span>English<i></i></span>
<ul>
<li><a href="/doc/guide/1.1/de/quickstart.first-app">Deutsch</a></li>
<li><a href="/doc/guide/1.1/es/quickstart.first-app">Español</a></li>
<li><a href="/doc/guide/1.1/fr/quickstart.first-app">Français</a></li>
<li><a href="/doc/guide/1.1/he/quickstart.first-app">עִבְרִית</a></li>
<li><a href="/doc/guide/1.1/id/quickstart.first-app">Bahasa Indonesia</a></li>
<li><a href="/doc/guide/1.1/it/quickstart.first-app">Italiano</a></li>
<li><a href="/doc/guide/1.1/ja/quickstart.first-app">日本語</a></li>
<li><a href="/doc/guide/1.1/pl/quickstart.first-app">Polski</a></li>
<li><a href="/doc/guide/1.1/pt/quickstart.first-app">Português</a></li>
<li><a href="/doc/guide/1.1/pt_br/quickstart.first-app">Português brasileiro</a></li>
<li><a href="/doc/guide/1.1/ro/quickstart.first-app">România</a></li>
<li><a href="/doc/guide/1.1/ru/quickstart.first-app">Русский</a></li>
<li><a href="/doc/guide/1.1/sv/quickstart.first-app">Svenska</a></li>
<li><a href="/doc/guide/1.1/uk/quickstart.first-app">украї́нська</a></li>
<li><a href="/doc/guide/1.1/zh_cn/quickstart.first-app">简体中文</a></li>
</ul>
	    		</div>
				<div class="versions g-dropdown">
	    		<span>1.1<i></i></span>
<ul>
<li><a href="/doc/guide/1.0/en/quickstart.first-app">1.0</a></li>
</ul>
				</div>
				<div class="clear"></div>
			</div>
            <div class="widget-search-box">
    <form method="get" action="/search/">
        <strong>Search in this tutorial</strong>
		<input type="text" name="q" class="keyword g-text" />
        <input type="hidden" name="type" value="guide" />
        <input type="hidden" name="lang" value="en" />
        <input type="submit" value="Find" class="btn btn-info" />
	</form>
</div>
			<ul class="toc">
						    <li class="chapter"><strong>Getting Started</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/index">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/changes">New Features</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/upgrade">Upgrading from 1.0 to 1.1</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/quickstart.what-is-yii">What is Yii</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/quickstart.installation">Installation</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/quickstart.apache-nginx-config">Apache and Nginx configurations</a>			            </li>
			        			    			        			            <li class="active">
			                &raquo; Creating First Yii Application &laquo;
			            </li>
			        			    						    <li class="chapter"><strong>Fundamentals</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.mvc">Model-View-Controller (MVC)</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.entry">Entry Script</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.application">Application</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.controller">Controller</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.model">Model</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.view">View</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.component">Component</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.module">Module</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.namespace">Path Alias and Namespace</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.convention">Conventions</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.workflow">Development Workflow</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.best-practices">Best MVC Practices</a>			            </li>
			        			    						    <li class="chapter"><strong>Working with Forms</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.model">Creating Model</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.action">Creating Action</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.view">Creating Form</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.table">Collecting Tabular Input</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.builder">Using Form Builder</a>			            </li>
			        			    						    <li class="chapter"><strong>Working with Databases</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.dao">Database Access Objects</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.query-builder">Query Builder</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.ar">Active Record</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.arr">Relational Active Record</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.migration">Database Migration</a>			            </li>
			        			    						    <li class="chapter"><strong>Caching</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.data">Data Caching</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.fragment">Fragment Caching</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.page">Page Caching</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.dynamic">Dynamic Content</a>			            </li>
			        			    						    <li class="chapter"><strong>Extending Yii</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/extension.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/extension.use">Using Extensions</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/extension.create">Creating Extensions</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/extension.integration">Using 3rd-Party Libraries</a>			            </li>
			        			    						    <li class="chapter"><strong>Testing</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/test.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/test.fixture">Defining Fixtures</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/test.unit">Unit Testing</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/test.functional">Functional Testing</a>			            </li>
			        			    						    <li class="chapter"><strong>Special Topics</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.gii">Automatic Code Generation</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.url">URL Management</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.auth">Authentication and Authorization</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.theming">Theming and Skin</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.logging">Logging</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.error">Error Handling</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.webservice">Web Service</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.i18n">Internationalization (I18N)</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.prado">Alternative Template Syntax</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.console">Console Applications</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.security">Security</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.performance">Performance Tuning</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/quickstart.first-app-yiic">Code Generation using Command Line Tools (deprecated)</a>			            </li>
			        			    						</ul>
        </div>
    </div>
    <div class="grid_9 omega">
    	<div class="g-markdown"><h1 id="creating-your-first-yii-application">Creating Your First Yii Application</h1>
<div class="google-ad" style="float:right;margin:0 0 1em 1em;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3732587985864947";
google_ad_slot = "2830391674";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="toc"><ol><li><a href="#connecting-to-database">Connecting to Database</a></li>
<li><a href="#implementing-crud-operations">Implementing CRUD Operations</a></li></ol></div>


<p>To give you an initial experience with Yii, in this section we describe how to
create your first Yii application. We will use <code>yiic</code> (command line tool)
to create a new Yii application and <code>Gii</code> (powerful web based code generator)
to automate code creation for certain tasks. For convenience,
we assume that <code>YiiRoot</code> is the directory where Yii is installed, and <code>WebRoot</code>
is the document root of our Web server.</p>

<p>Run <code>yiic</code> on the command line as follows:</p>

<pre>% YiiRoot/framework/yiic webapp WebRoot/testdrive
</pre>

<blockquote class="note">
<p><strong>Note:</strong> When running <code>yiic</code> on Mac OS, Linux or Unix, you may need to
  change the permission of the <code>yiic</code> file so that it is executable.
  Alternatively, you may run the tool as follows,</p>

<pre>% cd WebRoot
% php YiiRoot/framework/yiic.php webapp testdrive
</pre>
</blockquote>

<p>This will create a skeleton Yii application under the directory
<code>WebRoot/testdrive</code>. The application has a directory structure that
is needed by most Yii applications.</p>

<p>Without writing a single line of code, we can test drive our first Yii
application by accessing the following URL in a Web browser:</p>

<pre>http://hostname/testdrive/index.php
</pre>

<p>As we can see, the application has four pages: the homepage, the about page,
the contact page and the login page. The contact page displays a contact
form that users can fill in to submit their inquiries to the webmaster,
and the login page allows users to be authenticated before accessing privileged
contents. See the following screenshots for more details.</p>

<div class="image"><p>Home page</p><img src="/tutorial/image?type=guide&amp;version=1.1&amp;lang=en&amp;file=first-app1.png" alt="Home page" /></div>

<div class="image"><p>Contact page</p><img src="/tutorial/image?type=guide&amp;version=1.1&amp;lang=en&amp;file=first-app2.png" alt="Contact page" /></div>

<div class="image"><p>Contact page with input errors</p><img src="/tutorial/image?type=guide&amp;version=1.1&amp;lang=en&amp;file=first-app3.png" alt="Contact page with input errors" /></div>

<div class="image"><p>Contact page with success message</p><img src="/tutorial/image?type=guide&amp;version=1.1&amp;lang=en&amp;file=first-app4.png" alt="Contact page with success message" /></div>

<div class="image"><p>Login page</p><img src="/tutorial/image?type=guide&amp;version=1.1&amp;lang=en&amp;file=first-app5.png" alt="Login page" /></div>

<p>The following diagram shows the directory structure of our application.
Please see <a href="/doc/guide/1.1/en/basics.convention#directory">Conventions</a> for a detailed
explanation.</p>

<pre>testdrive/
   index.php                 Web application entry script file
   index-test.php            entry script file for the functional tests
   assets/                   containing published resource files
   css/                      containing CSS files
   images/                   containing image files
   themes/                   containing application themes
   protected/                containing protected application files
      yiic                   yiic command line script for Unix/Linux
      yiic.bat               yiic command line script for Windows
      yiic.php               yiic command line PHP script
      commands/              containing customized &#039;yiic&#039; commands
         shell/              containing customized &#039;yiic shell&#039; commands
      components/            containing reusable user components
         Controller.php      the base class for all controller classes
         UserIdentity.php    the &#039;UserIdentity&#039; class used for authentication
      config/                containing configuration files
         console.php         the console application configuration
         main.php            the Web application configuration
         test.php            the configuration for the functional tests
      controllers/           containing controller class files
         SiteController.php  the default controller class
      data/                  containing the sample database
         schema.mysql.sql    the DB schema for the sample MySQL database
         schema.sqlite.sql   the DB schema for the sample SQLite database
         testdrive.db        the sample SQLite database file
      extensions/            containing third-party extensions
      messages/              containing translated messages
      models/                containing model class files
         LoginForm.php       the form model for &#039;login&#039; action
         ContactForm.php     the form model for &#039;contact&#039; action
      runtime/               containing temporarily generated files
      tests/                 containing test scripts
      views/                 containing controller view and layout files
         layouts/            containing layout view files
            main.php         the base layout shared by all pages
            column1.php      the layout for pages using a single column
            column2.php      the layout for pages using two columns
         site/               containing view files for the &#039;site&#039; controller
            pages/           containing &quot;static&quot; pages
               about.php     the view for the &quot;about&quot; page
            contact.php      the view for &#039;contact&#039; action
            error.php        the view for &#039;error&#039; action (displaying external errors)
            index.php        the view for &#039;index&#039; action
            login.php        the view for &#039;login&#039; action
</pre>

<p>Application generator described above also supports creation of files needed
by Git version control system. The following command would create necessary
<code>.gitignore</code> (e.g. content of the <code>assets</code> and <code>runtime</code> shouldn't be tracked)
and <code>.gitkeep</code> (forces tracking of initially empty but important directories)
files:</p>

<pre>% YiiRoot/framework/yiic webapp WebRoot/testdrive git
</pre>

<p>Another supported VCS is Mercurial: pass the <code>hg</code> value as third parameter in
case you're using this VCS. This feature is available since version 1.1.11.</p>

<h2 id="connecting-to-database">1. Connecting to Database <a class="anchor" href="#connecting-to-database">¶</a></h2>

<p>Most Web applications are backed by databases. Our test-drive application
is not an exception. To use a database, we need to tell the
application how to connect to it. This is done in the application
configuration file <code>WebRoot/testdrive/protected/config/main.php</code>, highlighted as follows,</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">return</span> <span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code">
    ......
    </span><span class="hl-quotes">'</span><span class="hl-string">components</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code">
        ......
        </span><span class="hl-quotes">'</span><span class="hl-string">db</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
            <span class="hl-quotes">'</span><span class="hl-string">connectionString</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">sqlite:protected/data/testdrive.db</span><span class="hl-quotes">'</span><span class="hl-code">,
        </span><span class="hl-brackets">)</span><span class="hl-code">,
    </span><span class="hl-brackets">)</span><span class="hl-code">,
    ......
</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>The above code instructs Yii that the application should connect to the SQLite database
<code>WebRoot/testdrive/protected/data/testdrive.db</code> when needed. Note that the SQLite database
is already included in the skeleton application that we just generated. The database
contains only a single table named <code>tbl_user</code>:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">CREATE</span> <span class="hl-reserved">TABLE</span> <span class="hl-identifier">tbl_user</span> <span class="hl-brackets">(</span>
    <span class="hl-identifier">id</span> <span class="hl-reserved">INTEGER</span> <span class="hl-reserved">NOT</span> <span class="hl-reserved">NULL</span> <span class="hl-reserved">PRIMARY</span> <span class="hl-reserved">KEY</span> <span class="hl-identifier">AUTOINCREMENT</span><span class="hl-code">,
    </span><span class="hl-identifier">username</span> <span class="hl-reserved">VARCHAR</span><span class="hl-brackets">(</span><span class="hl-number">128</span><span class="hl-brackets">)</span> <span class="hl-reserved">NOT</span> <span class="hl-reserved">NULL</span><span class="hl-code">,
    </span><span class="hl-identifier">password</span> <span class="hl-reserved">VARCHAR</span><span class="hl-brackets">(</span><span class="hl-number">128</span><span class="hl-brackets">)</span> <span class="hl-reserved">NOT</span> <span class="hl-reserved">NULL</span><span class="hl-code">,
    </span><span class="hl-identifier">email</span> <span class="hl-reserved">VARCHAR</span><span class="hl-brackets">(</span><span class="hl-number">128</span><span class="hl-brackets">)</span> <span class="hl-reserved">NOT</span> <span class="hl-reserved">NULL</span>
<span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>If you want to try a MySQL database instead, you may use the included MySQL
schema file <code>WebRoot/testdrive/protected/data/schema.mysql.sql</code> to create the database.</p>

<blockquote class="note">
<p><strong>Note:</strong> To use Yii's database feature, we need to enable the PHP PDO extension
  and the driver-specific PDO extension. For the test-drive application, we
  need to turn on both the <code>php_pdo</code> and <code>php_pdo_sqlite</code> extensions.</p>
</blockquote>

<h2 id="implementing-crud-operations">2. Implementing CRUD Operations <a class="anchor" href="#implementing-crud-operations">¶</a></h2>

<p>Now comes the fun part. We would like to implement CRUD (create, read,
update and delete) operations for the <code>tbl_user</code> table we just created. This is
also commonly needed in practical applications. Instead of taking the trouble
to write the actual code, we will use <code>Gii</code> -- a powerful Web-based code generator.</p>

<blockquote class="info">
<p><strong>Info:</strong> Gii has been available since version 1.1.2. Before that, we could use the aforementioned <code>yiic</code> tool to accomplish the same goal. For more details, please refer to <a href="/doc/guide/1.1/en/quickstart.first-app-yiic">Implementing CRUD Operations with yiic shell</a>.</p>
</blockquote>

<h3 id="configuring-gii">Configuring Gii</h3>

<p>In order to use Gii, we first need to edit the file <code>WebRoot/testdrive/protected/config/main.php</code>, which is known as the <a href="/doc/guide/1.1/en/basics.application#application-configuration">application configuration</a> file:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">return</span> <span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-code">
    ......
    </span><span class="hl-quotes">'</span><span class="hl-string">import</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
        <span class="hl-quotes">'</span><span class="hl-string">application.models.*</span><span class="hl-quotes">'</span><span class="hl-code">,
        </span><span class="hl-quotes">'</span><span class="hl-string">application.components.*</span><span class="hl-quotes">'</span><span class="hl-code">,
    </span><span class="hl-brackets">)</span><span class="hl-code">,
 
    </span><span class="hl-quotes">'</span><span class="hl-string">modules</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
        <span class="hl-quotes">'</span><span class="hl-string">gii</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
            <span class="hl-quotes">'</span><span class="hl-string">class</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">system.gii.GiiModule</span><span class="hl-quotes">'</span><span class="hl-code">,
            </span><span class="hl-quotes">'</span><span class="hl-string">password</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">pick up a password here</span><span class="hl-quotes">'</span><span class="hl-code">,
        </span><span class="hl-brackets">)</span><span class="hl-code">,
    </span><span class="hl-brackets">)</span><span class="hl-code">,
</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>Then, visit the URL <code>http://hostname/testdrive/index.php?r=gii</code>. We will be prompted for a password, which should be the one that we just entered in the above application configuration.</p>

<h3 id="generating-the-user-model">Generating the User Model</h3>

<p>After login, click on the link <code>Model Generator</code>. This will bring us to the following model generation page,</p>

<div class="image"><p>Model Generator</p><img src="/tutorial/image?type=guide&amp;version=1.1&amp;lang=en&amp;file=gii-model.png" alt="Model Generator" /></div>

<p>In the <code>Table Name</code> field, enter <code>tbl_user</code>. In the <code>Model Class</code> field, enter <code>User</code>. Then press the <code>Preview</code> button. This will show us the new code file to be generated. Now press the <code>Generate</code> button. A new file named <code>User.php</code> will be generated under <code>protected/models</code>. As we will describe later in this guide, this <code>User</code> model class allows us to talk to the underlying database <code>tbl_user</code> table in an object-oriented fashion.</p>

<h3 id="generating-crud-code">Generating CRUD Code</h3>

<p>After creating the model class file, we will generate the code that implements the CRUD operations about the user data. We choose the <code>Crud Generator</code> in Gii, shown as follows,</p>

<div class="image"><p>CRUD Generator</p><img src="/tutorial/image?type=guide&amp;version=1.1&amp;lang=en&amp;file=gii-crud.png" alt="CRUD Generator" /></div>

<p>In the <code>Model Class</code> field, enter <code>User</code>. In the <code>Controller ID</code> field, enter <code>user</code> (in lower case). Now press the <code>Preview</code> button followed by the <code>Generate</code> button. We are done with the CRUD code generation.</p>

<h3 id="accessing-crud-pages">Accessing CRUD Pages</h3>

<p>Let's enjoy our work by browsing the following URL:</p>

<pre>http://hostname/testdrive/index.php?r=user
</pre>

<p>This will display a list of user entries in the <code>tbl_user</code> table.</p>

<p>Click the <code>Create User</code> button on the page. We will be brought to the login
page if we have not logged in before. After logging in, we see
an input form that allows us to add a new user entry. Complete the form and
click the <code>Create</code> button. If there is any input error, a nice error
prompt will show up which prevents us from saving the input. Back on the
user list page, we should see the newly added user appearing in the list.</p>

<p>Repeat the above steps to add more users. Notice that the user list page
will automatically paginate the user entries if there are too many to be
displayed in one page.</p>

<p>If we login as an administrator using <code>admin/admin</code>, we can view the user
admin page with the following URL:</p>

<pre>http://hostname/testdrive/index.php?r=user/admin
</pre>

<p>This will show us the user entries in a nice tabular format. We can click on the table
header cells to sort the corresponding columns. We can click on the buttons
on each row of data to view, update or delete the corresponding row of data.
We can browse different pages. We can also filter and search to look for
the data we are interested in.</p>

<p>All these nice features come without requiring us to write a single line
of code!</p>

<div class="image"><p>User admin page</p><img src="/tutorial/image?type=guide&amp;version=1.1&amp;lang=en&amp;file=first-app6.png" alt="User admin page" /></div>

<div class="image"><p>Create new user page</p><img src="/tutorial/image?type=guide&amp;version=1.1&amp;lang=en&amp;file=first-app7.png" alt="Create new user page" /></div>

<div class="revision"><div class="google-ad" style="margin:-60px 0 5px 200px;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3732587985864947";
google_ad_slot = "7116172008";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>$Id$</div>
</div>
                <div class="prev-next-nav">
                            <div class="prev-topic"><a href="/doc/guide/1.1/en/quickstart.apache-nginx-config">Apache and Nginx configurations</a></div>
                                        <div class="next-topic"><a href="/doc/guide/1.1/en/basics.mvc">Model-View-Controller (MVC)</a></div>
                    </div>
        
		        <div class="widget-comment-list" id="comments">
	<div class="comments">
		<h3>Total 8 comments</h3>
				<div class="comment alt-0">
			<a class="cid" id="c12049" title="permalink to this comment" href="#c12049">#12049</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=12049"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=12049&amp;vote=1"><span>9</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=12049&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/73575/">Clambiase</a> at 2013/02/23 06:41pm</div>
			<div class="title">Creating Your First Application in Windows with Xampp</div>
			<div class="content"><p>If you have some difficulty to create the First Application
You can edit the yiic.bat file located in framework folder.</p>

<p>this line</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">if</span> <span class="hl-quotes">"</span><span class="hl-string">%PHP_COMMAND%</span><span class="hl-quotes">"</span><span class="hl-code"> == </span><span class="hl-quotes">"</span><span class="hl-quotes">"</span> <span class="hl-identifier">set</span> <span class="hl-identifier">PHP_COMMAND</span><span class="hl-code">=</span><span class="hl-identifier">php</span><span class="hl-code">.</span><span class="hl-identifier">exe</span></pre></div></div>

<p>replace with</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">if</span> <span class="hl-quotes">"</span><span class="hl-string">%PHP_COMMAND%</span><span class="hl-quotes">"</span><span class="hl-code"> == </span><span class="hl-quotes">"</span><span class="hl-quotes">"</span> <span class="hl-identifier">set</span> <span class="hl-identifier">PHP_COMMAND</span><span class="hl-code">=</span><span class="hl-identifier">C</span><span class="hl-code">:\</span><span class="hl-identifier">xampp</span><span class="hl-code">\</span><span class="hl-identifier">php</span><span class="hl-code">\</span><span class="hl-identifier">php</span><span class="hl-code">.</span><span class="hl-identifier">exe</span></pre></div></div>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c275" title="permalink to this comment" href="#c275">#275</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=275"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=275&amp;vote=1"><span>9</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=275&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/6051/">petros</a> at 2010/07/22 04:37am</div>
			<div class="title">Problem with Date if you have PHP 5.3</div>
			<div class="content"><p>You may have a problem with date. Better set the timezone in php.ini or before line 47 write (Athens is mine, use yours)</p>

<p>date_default_timezone_set('Europe/Athens');</p>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c311" title="permalink to this comment" href="#c311">#311</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=311"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=311&amp;vote=1"><span>5</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=311&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/5879/">noBer</a> at 2010/07/13 02:01am</div>
			<div class="title">gii error - solution</div>
			<div class="content"><p>specify an allowed ip in gii setup if not working on localhost (linux systems):</p>

<pre>    'gii'=&gt;array(
        'class'=&gt;'system.gii.GiiModule',
        'password'=&gt;'your passwd',
        'ipFilters'=&gt;array('your IP'),
    ),</pre>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c600" title="permalink to this comment" href="#c600">#600</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=600"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=600&amp;vote=1"><span>6</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=600&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/4695/">SystemicPlural</a> at 2010/04/12 04:44am</div>
			<div class="title">php.exe is not recognized</div>
			<div class="content"><p>If you get the error</p>

<pre>php.exe is not recognized as an internal or external command</pre>

<p>When you try to create the new framework then you need to add php.exe's location to your system path.
On Windows XP goto</p>

<pre>Control Panel &gt; System &gt; Advanced &gt; Environment Variables &gt; System Variables &gt; Edit &gt; Variable value</pre>

<p>And at the end of the current contents add a semicolon followed by your path to php.
EG, mine is located at</p>

<pre>C:\Program Files\wamp\bin\php\php5.2.9-2</pre>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c621" title="permalink to this comment" href="#c621">#621</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=621"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=621&amp;vote=1"><span>1</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=621&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/4102/">sova</a> at 2010/04/07 08:35am</div>
			<div class="title">Change the default connection string for SQLite</div>
			<div class="content"><p>When yiic builds a skeleton webapp, it puts in <strong>protected/config/main.php</strong> the following connection string for SQLite DB:</p>

<pre>'sqlite:protected/data/testdrive.db'</pre>

<p>It would be better to put the following there instead:</p>

<pre>'sqlite:'.dirname(__FILE__).DIRECTORY_SEPARATOR.'..'.'/data/testdrive.db'</pre>

<p>This would make this config file portable, that is, if you decide to move your app (the "protected" folder) around, e.g. outside of your web-exposed folder, you would not have to alter this config file at all.</p>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c1281" title="permalink to this comment" href="#c1281">#1281</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=1281"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=1281&amp;vote=1"><span>4</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=1281&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/2495/">Ivo Roper</a> at 2009/09/30 03:44pm</div>
			<div class="title">some beginning tutorial and forum links</div>
			<div class="content"><p>Here are links to "Getting Started" documentation beyond the <a href="http://www.yiiframework.com/doc/blog/">blog demo</a> and <a href="http://www.yiiframework.com/doc/guide/quickstart.first-app">Creating First Yii Application</a> (you are here).  I hope the convenience of having these links in one place is useful. (And to be clear, I'm not connected to these documents or their authors.)</p>

<p>Never worked with a framework?  The  <a href="http://www.sterlingsavvy.com/tutorials/index.php?t=1&amp;l=1">whoopass tutorial</a> - and its forum thread -  <a href="http://www.yiiframework.com/forum/index.php?/topic/2417-where-to-start-with-yii/">Where to Start with Yii</a> have some useful perspective.</p>

<p>Kevin Korb's <a href="http://www.kevinkorb.com/post/21">Yii Framework + MySQL tutorial</a> is usefully concise.</p>

<p>Questions?  The <a href="http://www.yiiframework.com/forum/index.php?/forum/8-general-discussion/">General Discussion</a> forum is the place to ask.</p>

<p>The <a href="http://www.yiiframework.com/forum/index.php?/forum/12-tips-snippets-and-tutorials/">Tips, Snippets and Tutorials</a> forum has helpful posts on many topics.</p>

<p>The Tips forum above <a href="http://www.yiiframework.com/forum/index.php?/topic/4722-link-collection-of-beginner-resources-pin-this-maybe/">has a thread</a> about this topic.</p>

<p>I'm sure that there are other valuable sites out there that folks can point to.  Please reply to that thread with corrections or links to other newbie tutorials of fairly general scope. And yes, I too am a newbie.</p>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c1606" title="permalink to this comment" href="#c1606">#1606</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=1606"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=1606&amp;vote=1"><span>4</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=1606&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/1547/">adrianhedley</a> at 2009/06/05 05:09am</div>
			<div class="title">Creating Your First Application in Windows</div>
			<div class="content"><p>I am posting an example how to create the first application in Windows because i think is may help newbies.</p>

<p>Example Create first Application</p>

<p>php path\to\yii\framework\yiic.php webapp path\to\www\ApplicationName</p>

<p>Example</p>

<p>php e:yii\framework\yiic.php webapp e:\wamp\www\test1</p>

<p>Note: make sure php is in the path of your Windows Environment variables</p>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c1897" title="permalink to this comment" href="#c1897">#1897</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=1897"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=1897&amp;vote=1"><span>3</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=1897&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/317/">yagitoshiro</a> at 2009/01/01 11:53pm</div>
			<div class="title">MySQL 4</div>
			<div class="content"><p>If your MySQL version is 4.x, don't forget to add "emulatePrepare".</p>

<p>'db'=&gt;array(<br />
    'connectionString'=&gt;'mysql:host=yourhost;dbname=yourdbname',<br />
    'username' =&gt; 'mysql_username',<br />
    'password' =&gt; 'mysql_password',<br />
    'emulatePrepare' =&gt; true, // &lt;- here!!!<br />
),<br /></p>
</div>
					</div>
			</div>
	<div id="comment-add">
		<h3 id="add-comment">Leave a comment</h3>

			<p>Please <a class="g-login" rel="/doc/guide/1.1/en/quickstart.first-app#add-comment" href="#">login</a> to leave your comment.</p>
		</div>
</div>
           </div>
</div>
					</div>
				
								<div class="clear"></div>
			</div>
			<div class="clear"></div>
					</div>
	</div>

	<div class="layout-main-footer">
		<div class="container_12">
			<div class="grid_6">
				<ul class="menu">
				<li class="main">About
<ul class="sub">
<li><a href="/about/">About Yii</a></li>
<li><a href="/features/">Features</a></li>
<li><a href="/performance/">Performance</a></li>
<li><a href="/license/">License</a></li>
<li><a href="/contact/">Contact Us</a></li>
</ul>
</li>
<li class="main">Downloads
<ul class="sub">
<li><a href="/download/">Framework</a></li>
<li><a href="/extensions/">Extensions</a></li>
<li><a href="/demos/">Demos</a></li>
<li><a href="/logo/">Logo</a></li>
</ul>
</li>
<li class="main">Documentation
<ul class="sub">
<li><a href="/tour/">Take the Tour</a></li>
<li><a href="/tutorials/">Tutorials</a></li>
<li><a href="/doc/api/">Class Reference</a></li>
<li><a href="/doc-2.0/guide-index.html">Guide 2.0</a></li>
<li><a href="/doc-2.0/index.html">Class Reference 2.0</a></li>
<li><a href="/wiki/">Wiki</a></li>
<li><a href="/screencasts/">Screencasts</a></li>
<li><a href="/resources/">Resources</a></li>
</ul>
</li>
<li class="main">Development
<ul class="sub">
<li><a href="/contribute/">Contribute to Yii</a></li>
<li><a href="https://github.com/yiisoft/yii/commits/master">Latest Updates</a></li>
<li><a href="https://github.com/yiisoft/yii/issues/new">Report a Bug</a></li>
<li><a href="/security/">Report a Security Issue</a></li>
</ul>
</li>
<li class="main">Community
<ul class="sub">
<li><a href="/forum/">Forum</a></li>
<li><a href="/chat/">Live Chat</a></li>
<li><a href="/news/">News</a></li>
<li><a href="/user/halloffame/">Hall of Fame</a></li>
<li><a href="/badges/">Badges</a></li>
</ul>
</li>
				</ul>
			</div>
			<div class="grid_1">&nbsp;</div>
			<div class="grid_5">
				<h3>Yii Supporters</h3>
				<ul class="g-list-none supporters">

				</ul>
			</div>

			<div class="clear"></div>
			<div class="grid_12 copyright">
				<ul class="social">
					<li class="twitter"><a href="https://twitter.com/yiiframework" target="_blank" rel="nofollow" title="follow us on twitter">Twitter</a></li>
					<li class="facebook"><a href="https://www.facebook.com/groups/yiitalk/" target="_blank" rel="nofollow" title="join yii group at facebook">Facebook</a></li>
					<li class="linkedin"><a href="http://www.linkedin.com/groups?gid=1483367" target="_blank" rel="nofollow" title="join yii group at linkedin">LinkedIn</a></li>
					<li class="feeds"><a title="RSS feeds" href="/rss.xml/">RSS Feeds</a></li>
				</ul>
				<div class="clear"></div>
				<a href="/tos/">Terms of Service</a> |
				<a href="/license/">License</a> |
				<a href="/contact/">Contact Us</a><br/>
				Copyright &copy; 2015 by <a href="http://www.yiisoft.com">Yii Software LLC</a>.
				All Rights Reserved.
			</div>
			<div class="clear"></div>
		</div>
	</div>
</div>

    <script type="text/javascript" src="/js/site-20121004195728.js"></script>


<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['site._setAccount', 'UA-5843896-1']);
_gaq.push(['site._trackPageview']);

(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<script type="text/javascript">
function trackClick(link, action, category) {
	action=action || link.href;
	category=category || 'Outbound Links';
	try {
		_gaq.push(['site._trackEvent', category, action]);
		setTimeout('document.location = "' + link.href + '"', 250);
	}catch(err){}
	return false;
}
</script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
</body>
</html>
