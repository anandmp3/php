<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    	<meta charset="UTF-8" />
		<meta name="keywords" content="yii framework, tutorial, guide, version 1.1" />
	<meta name="description" content="Internationalization (I18N) refers to the process of designing a software
application so that it can be adapted to various languages and regions
without engineering changes." />
    <link rel="shortcut icon" type="image/x-icon" href="http://static.yiiframework.com/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="http://static.yiiframework.com/css/site-20130404102234.css" />

	<link title="Lives News for Yii Framework" rel="alternate" type="application/rss+xml" href="http://www.yiiframework.com/rss.xml/" />
	<title>Special Topics: Internationalization (I18N) | The Definitive Guide to Yii | Yii PHP Framework</title>
	<link rel="search" type="application/opensearchdescription+xml" title="Yii API Search" href="/search-api.xml" />
	<link rel="search" type="application/opensearchdescription+xml" title="Yii Site Search" href="/search-site.xml" />
</head>

<body class="mac">
<div class="layout-main">

	<div class="layout-main-shortcuts">
		<div class="container_12">
            <a style="color:darkred;" href="https://github.com/yiisoft/yii2">Github</a> &middot;
            <a style="color:darkgreen;" href="https://twitter.com/yiiframework">Twitter</a> &middot;
            <a style="color:darkblue;" href="https://www.facebook.com/groups/yiitalk/">Facebook</a> &middot;
            <a href="/doc/guide/">Guide</a> &middot;
            <a href="/doc/api/">Class Reference</a> &middot;
            <a href="/doc-2.0/guide-index.html">Guide 2.0</a> &middot;
            <a href="/doc-2.0/index.html">API 2.0</a> &middot;
            <a href="/wiki/">Wiki</a> &middot;
            <a href="/extensions/">Extensions</a> &middot;
            <a href="/forum/">Forum</a> &middot;
			<a href="/chat/">Live Chat</a> &middot;
                            <a href="/login/">Login</a>            		</div>
	</div>

	<div class="layout-main-bg">
		<div class="layout-main-header">
			<div class="container_12">
				<div class="grid_4">
					<a class="logo" href="/"><img alt="Yii Logo" src="http://static.yiiframework.com/css/img/logo.png" title="Yii Framework" width="284" height="64" /></a>				</div>
				<div class="grid_8 omega">
					<div class="nav">
						<ul class="menu" id="yw0">
<li class="about"><a class="main" href="/about/">About</a>
<ul>
<li><a href="/about/">About Yii</a></li>
<li><a href="/features/">Features</a></li>
<li><a href="/performance/">Performance</a></li>
<li><a href="/license/">License</a></li>
<li class="last"><a href="/contact/">Contact Us</a></li>
</ul>
</li>
<li class="downloads"><a class="main" href="/download/">Downloads</a>
<ul>
<li><a href="/download/">Framework</a></li>
<li><a href="/extensions/">Extensions</a></li>
<li><a href="/demos/">Demos</a></li>
<li class="last"><a href="/logo/">Logo</a></li>
</ul>
</li>
<li class="documentation active"><a class="main" href="/doc/">Documentation</a>
<ul>
<li><a href="/tour/">Take the Tour</a></li>
<li class="active"><a href="/tutorials/">Tutorials</a></li>
<li><a href="/doc/api/">Class Reference</a></li>
<li><a href="/doc-2.0/guide-index.html">Guide 2.0</a></li>
<li><a href="/doc-2.0/index.html">Class Reference 2.0</a></li>
<li><a href="/wiki/">Wiki</a></li>
<li><a href="/screencasts/">Screencasts</a></li>
<li class="last"><a href="/resources/">Resources</a></li>
</ul>
</li>
<li class="development"><a class="main" href="https://github.com/yiisoft/yii/commits/master">Development</a>
<ul>
<li><a href="/contribute/">Contribute to Yii</a></li>
<li><a href="https://github.com/yiisoft/yii/commits/master">Latest Updates</a></li>
<li><a href="https://github.com/yiisoft/yii/issues/new">Report a Bug</a></li>
<li class="last"><a href="/security/">Report a Security Issue</a></li>
</ul>
</li>
<li class="community last"><a class="main" href="/community/">Community</a>
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/chat/">Live Chat</a></li>
<li><a href="/news/">News</a></li>
<li><a href="/user/halloffame/">Hall of Fame</a></li>
<li class="last"><a href="/badges/">Badges</a></li>
</ul>
</li>
</ul>						<div class="search">
							<form method="get" action="/search/">
								<div class="keyword">
	                                <input name="q" value="" />
									<a href="#" title="search" class="global-search">search</a>
								</div>
							</form>
						</div>
					</div>
				</div>
				<div class="clear"></div>
			</div>
		</div>

		<div class="container_12">
						<div class="grid_12">
												<div class="layout-main-submenu">
					<ul>
						<li class="main">Documentation</li>
												<li><a href="/tour/">Take the Tour</a></li>
												<li class="active"><a href="/tutorials/">Tutorials</a></li>
												<li><a href="/doc/api/">Class Reference</a></li>
												<li><a href="/doc-2.0/guide-index.html">Guide 2.0</a></li>
												<li><a href="/doc-2.0/index.html">Class Reference 2.0</a></li>
												<li><a href="/wiki/">Wiki</a></li>
												<li><a href="/screencasts/">Screencasts</a></li>
												<li><a href="/resources/">Resources</a></li>
											</ul>
				</div>
				
				
				
									<div class="layout-main-body">
						<div class="tutorial-view">
    <div class="grid_3 alpha">
        <div class="nav-toc">
    		<div class="title">The Definitive Guide to Yii</div>
    		<div class="langver">
	            <strong>Language &amp; version</strong>
	    		<div class="languages g-dropdown">
	    		<span>English<i></i></span>
<ul>
<li><a href="/doc/guide/1.1/de/topics.i18n">Deutsch</a></li>
<li><a href="/doc/guide/1.1/es/topics.i18n">Español</a></li>
<li><a href="/doc/guide/1.1/fr/topics.i18n">Français</a></li>
<li><a href="/doc/guide/1.1/he/topics.i18n">עִבְרִית</a></li>
<li><a href="/doc/guide/1.1/id/topics.i18n">Bahasa Indonesia</a></li>
<li><a href="/doc/guide/1.1/it/topics.i18n">Italiano</a></li>
<li><a href="/doc/guide/1.1/ja/topics.i18n">日本語</a></li>
<li><a href="/doc/guide/1.1/pl/topics.i18n">Polski</a></li>
<li><a href="/doc/guide/1.1/pt/topics.i18n">Português</a></li>
<li><a href="/doc/guide/1.1/pt_br/topics.i18n">Português brasileiro</a></li>
<li><a href="/doc/guide/1.1/ro/topics.i18n">România</a></li>
<li><a href="/doc/guide/1.1/ru/topics.i18n">Русский</a></li>
<li><a href="/doc/guide/1.1/sv/topics.i18n">Svenska</a></li>
<li><a href="/doc/guide/1.1/uk/topics.i18n">украї́нська</a></li>
<li><a href="/doc/guide/1.1/zh_cn/topics.i18n">简体中文</a></li>
</ul>
	    		</div>
				<div class="versions g-dropdown">
	    		<span>1.1<i></i></span>
<ul>
<li><a href="/doc/guide/1.0/en/topics.i18n">1.0</a></li>
</ul>
				</div>
				<div class="clear"></div>
			</div>
            <div class="widget-search-box">
    <form method="get" action="/search/">
        <strong>Search in this tutorial</strong>
		<input type="text" name="q" class="keyword g-text" />
        <input type="hidden" name="type" value="guide" />
        <input type="hidden" name="lang" value="en" />
        <input type="submit" value="Find" class="btn btn-info" />
	</form>
</div>
			<ul class="toc">
						    <li class="chapter"><strong>Getting Started</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/index">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/changes">New Features</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/upgrade">Upgrading from 1.0 to 1.1</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/quickstart.what-is-yii">What is Yii</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/quickstart.installation">Installation</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/quickstart.apache-nginx-config">Apache and Nginx configurations</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/quickstart.first-app">Creating First Yii Application</a>			            </li>
			        			    						    <li class="chapter"><strong>Fundamentals</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.mvc">Model-View-Controller (MVC)</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.entry">Entry Script</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.application">Application</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.controller">Controller</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.model">Model</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.view">View</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.component">Component</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.module">Module</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.namespace">Path Alias and Namespace</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.convention">Conventions</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.workflow">Development Workflow</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/basics.best-practices">Best MVC Practices</a>			            </li>
			        			    						    <li class="chapter"><strong>Working with Forms</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.model">Creating Model</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.action">Creating Action</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.view">Creating Form</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.table">Collecting Tabular Input</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/form.builder">Using Form Builder</a>			            </li>
			        			    						    <li class="chapter"><strong>Working with Databases</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.dao">Database Access Objects</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.query-builder">Query Builder</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.ar">Active Record</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.arr">Relational Active Record</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/database.migration">Database Migration</a>			            </li>
			        			    						    <li class="chapter"><strong>Caching</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.data">Data Caching</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.fragment">Fragment Caching</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.page">Page Caching</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/caching.dynamic">Dynamic Content</a>			            </li>
			        			    						    <li class="chapter"><strong>Extending Yii</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/extension.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/extension.use">Using Extensions</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/extension.create">Creating Extensions</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/extension.integration">Using 3rd-Party Libraries</a>			            </li>
			        			    						    <li class="chapter"><strong>Testing</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/test.overview">Overview</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/test.fixture">Defining Fixtures</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/test.unit">Unit Testing</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/test.functional">Functional Testing</a>			            </li>
			        			    						    <li class="chapter"><strong>Special Topics</strong></li>
			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.gii">Automatic Code Generation</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.url">URL Management</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.auth">Authentication and Authorization</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.theming">Theming and Skin</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.logging">Logging</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.error">Error Handling</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.webservice">Web Service</a>			            </li>
			        			    			        			            <li class="active">
			                &raquo; Internationalization (I18N) &laquo;
			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.prado">Alternative Template Syntax</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.console">Console Applications</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.security">Security</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/topics.performance">Performance Tuning</a>			            </li>
			        			    			        			            <li>
			                <a href="/doc/guide/1.1/en/quickstart.first-app-yiic">Code Generation using Command Line Tools (deprecated)</a>			            </li>
			        			    						</ul>
        </div>
    </div>
    <div class="grid_9 omega">
    	<div class="g-markdown"><h1 id="internationalization">Internationalization</h1>
<div class="google-ad" style="float:right;margin:0 0 1em 1em;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3732587985864947";
google_ad_slot = "2830391674";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="toc"><ol><li><a href="#locale-and-language">Locale and Language</a></li>
<li><a href="#translation">Translation</a></li>
<li><a href="#date-and-time-formatting">Date and Time Formatting</a></li>
<li><a href="#number-formatting">Number Formatting</a></li></ol></div>


<p>Internationalization (I18N) refers to the process of designing a software
application so that it can be adapted to various languages and regions
without engineering changes. For Web applications, this is of particular
importance because the potential users may be worldwide.</p>

<p>Yii provides support for I18N in several aspects.</p>

<ul>
<li>It provides the locale data for each possible language and variant.</li>
<li>It provides message and file translation service.</li>
<li>It provides locale-dependent date and time formatting.</li>
<li>It provides locale-dependent number formatting.</li>
</ul>

<p>In the following subsections, we will elaborate each of the above aspects.</p>

<h2 id="locale-and-language">1. Locale and Language <a class="anchor" href="#locale-and-language">¶</a></h2>

<p>Locale is a set of parameters that defines the user's language, country
and any special variant preferences that the user wants to see in their
user interface. It is usually identified by an ID consisting of a language
ID and a region ID. For example, the ID <code>en_US</code> stands for the locale of
English and United States. For consistency, all locale IDs in Yii are
canonicalized to the format of <code>LanguageID</code> or <code>LanguageID_RegionID</code>
in lower case (e.g. <code>en</code>, <code>en_us</code>).</p>

<p>Locale data is represented as a <a href="/doc/api/1.1/CLocale">CLocale</a> instance. It provides
locale-dependent information, including currency symbols, number symbols,
currency formats, number formats, date and time formats, and date-related
names. Since the language information is already implied in the locale ID,
it is not provided by <a href="/doc/api/1.1/CLocale">CLocale</a>. For the same reason, we often
interchangeably use the term locale and language.</p>

<p>Given a locale ID, one can get the corresponding <a href="/doc/api/1.1/CLocale">CLocale</a> instance by
<code>CLocale::getInstance($localeID)</code> or <code>CApplication::getLocale($localeID)</code>.</p>

<blockquote class="info">
<p><strong>Info:</strong> Yii comes with locale data for nearly every language and region.
  The data is obtained from <a href="http://unicode.org/cldr/">Common Locale Data Repository</a> (CLDR). For each locale, only a
  subset of the CLDR data is provided as the original data contains a lot of
  rarely used information. Users can also supply
  their own customized locale data. To do so, configure the <a href="/doc/api/1.1/CApplication#localeDataPath">CApplication::localeDataPath</a>
  property with the directory that contains the customized locale data.
  Please refer to the locale data files under <code>framework/i18n/data</code> in order
  to create customized locale data files.</p>
</blockquote>

<p>For a Yii application, we differentiate its <a href="/doc/api/1.1/CApplication#language">target
language</a> from <a href="/doc/api/1.1/CApplication#sourceLanguage">source
language</a>. The target language is the language
(locale) of the users that the application is targeted at, while the source
language refers to the language (locale) that the application source files
are written in. Internationalization occurs only when the two languages are
different.</p>

<blockquote class="tip">
<p><strong>Tip:</strong> It's better to leave English as a source language since it will be easier
    to find people translating from English to any other language.</p>
</blockquote>

<p>One can configure <a href="/doc/api/1.1/CApplication#language">target language</a> in the
<a href="/doc/guide/1.1/en/basics.application#application-configuration">application configuration</a>, or
change it dynamically before any internationalization occurs.</p>

<blockquote class="tip">
<p><strong>Tip:</strong> Sometimes, we may want to set the target language as the language
  preferred by a user (specified in the user's browser preferences). To do so, we
  can retrieve the user preferred language ID using
  <a href="/doc/api/1.1/CHttpRequest#preferredLanguage">CHttpRequest::preferredLanguage</a>.</p>
</blockquote>

<h2 id="translation">2. Translation <a class="anchor" href="#translation">¶</a></h2>

<p>The most needed I18N feature is perhaps translation, including message
translation and view translation. The former translates a text message to
the desired language, while the latter translates a whole file to the
desired language.</p>

<p>A translation request consists of the object to be translated, the source
language that the object is in, and the target language that the object
needs to be translated to. In Yii, the source language defaults to the
<a href="/doc/api/1.1/CApplication#sourceLanguage">application source language</a> while the target
language defaults to the <a href="/doc/api/1.1/CApplication#language">application language</a>.
If the source and target languages are the same, translation will not
occur.</p>

<h3 id="message-translation">Message Translation</h3>

<p>Message translation is done by calling <a href="/doc/api/1.1/YiiBase#t">Yii::t()</a>. The method
translates the given message from <a href="/doc/api/1.1/CApplication#sourceLanguage">source
language</a> to <a href="/doc/api/1.1/CApplication#language">target
language</a>.</p>

<p>When translating a message, its category has to be specified since a
message may be translated differently under different categories
(contexts). The category <code>yii</code> is reserved for messages used by the Yii
framework core code.</p>

<p>Messages can contain parameter placeholders which will be replaced with
the actual parameter values when calling <a href="/doc/api/1.1/YiiBase#t">Yii::t()</a>. For
example, the following message translation request would replace the
<code>{alias}</code> placeholder in the original message with the actual alias value.</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">app</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Path alias &quot;{alias}&quot; is redefined.</span><span class="hl-quotes">'</span><span class="hl-code">,
    </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">{alias}</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-var">$alias</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span></pre></div></div>

<blockquote class="note">
<p><strong>Note:</strong> Messages to be translated must be constant strings. They should
  not contain variables that would change message content (e.g. <code>"Invalid
  {$message} content."</code>). Use parameter placeholders if a message needs to
  vary according to some parameters.</p>
</blockquote>

<p>Translated messages are stored in a repository called <em>message
source</em>. A message source is represented as an instance of
<a href="/doc/api/1.1/CMessageSource">CMessageSource</a> or its child class. When <a href="/doc/api/1.1/YiiBase#t">Yii::t()</a> is invoked,
it will look for the message in the message source and return its
translated version if it is found.</p>

<p>Yii comes with the following types of message sources. You may also extend
<a href="/doc/api/1.1/CMessageSource">CMessageSource</a> to create your own message source type.</p>

<ul>
<li><p><a href="/doc/api/1.1/CPhpMessageSource">CPhpMessageSource</a>: the message translations are stored as key-value
pairs in a PHP array. The original message is the key and the translated
message is the value. Each array represents the translations for a
particular category of messages and is stored in a separate PHP script file
whose name is the category name. The PHP translation files for the same
language are stored under the same directory named as the locale ID. And
all these directories are located under the directory specified by
<a href="/doc/api/1.1/CPhpMessageSource#basePath">basePath</a>.</p></li>
<li><p><a href="/doc/api/1.1/CGettextMessageSource">CGettextMessageSource</a>: the message translations are stored as <a href="http://www.gnu.org/software/gettext/">GNU
Gettext</a> files.</p></li>
<li><p><a href="/doc/api/1.1/CDbMessageSource">CDbMessageSource</a>: the message translations are stored in database
tables. For more details, see the API documentation for <a href="/doc/api/1.1/CDbMessageSource">CDbMessageSource</a>.</p></li>
</ul>

<p>A message source is loaded as an <a href="/doc/guide/1.1/en/basics.application#application-component">application
component</a>. Yii pre-declares an
application component named <a href="/doc/api/1.1/CApplication#messages">messages</a> to store
messages that are used in user application. By default, the type of this
message source is <a href="/doc/api/1.1/CPhpMessageSource">CPhpMessageSource</a> and the base path for storing the PHP
translation files is <code>protected/messages</code>.</p>

<p>In summary, in order to use message translation, the following steps are
needed:</p>

<ol>
<li><p>Call <a href="/doc/api/1.1/YiiBase#t">Yii::t()</a> at appropriate places;</p></li>
<li><p>Create PHP translation files as
<code>protected/messages/LocaleID/CategoryName.php</code>. Each file simply returns an
array of message translations. Note, this assumes you are using the default
<a href="/doc/api/1.1/CPhpMessageSource">CPhpMessageSource</a> to store the translated messages.</p></li>
<li><p>Configure <a href="/doc/api/1.1/CApplication#sourceLanguage">CApplication::sourceLanguage</a> and <a href="/doc/api/1.1/CApplication#language">CApplication::language</a>.</p></li>
</ol>

<blockquote class="tip">
<p><strong>Tip:</strong> The <code>yiic</code> tool in Yii can be used to manage message translations
  when <a href="/doc/api/1.1/CPhpMessageSource">CPhpMessageSource</a> is used as the message source. Its <code>message</code> command
  can automatically extract messages to be translated from selected source files
  and merge them with existing translations if necessary. For more details of using
  the <code>message</code> command, please run <code>yiic help message</code>.</p>
</blockquote>

<p>When using <a href="/doc/api/1.1/CPhpMessageSource">CPhpMessageSource</a> to manage message source,
messages for an extension class (e.g. a widget, a module) can be specially managed 
and used. In particular, if a message belongs to an extension whose class name is <code>Xyz</code>, 
then the message category can be specified in the format of <code>Xyz.categoryName</code>. 
The corresponding message file will be assumed to be
<code>BasePath/messages/LanguageID/categoryName.php</code>, where <code>BasePath</code> refers to
the directory that contains the extension class file. And when using <code>Yii::t()</code> to
translate an extension message, the following format should be used, instead:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">Xyz.categoryName</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">message to be translated</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span></pre></div></div>

<p>Yii supports <a href="/doc/api/1.1/CChoiceFormat">choice format</a>, which is also known as plural forms. Choice format
refers to choosing a translation according to a given number value. For example,
in English, the word 'book' may either take a singular form or a plural form
depending on the number of books, while in other languages, the word may not use
different forms (such as in Chinese) or may use more complex plural form rules
(such as in Russian). Choice format solves this problem in a simple yet effective way.</p>

<p>To use choice format, a translated message must consist of a sequence of
expression-message pairs separated by <code>|</code>, as shown below:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-quotes">'</span><span class="hl-string">expr1#message1|expr2#message2|expr3#message3</span><span class="hl-quotes">'</span></pre></div></div>

<p>where <code>exprN</code> refers to a valid PHP expression which evaluates to a boolean value
indicating whether the corresponding message should be returned. Only the message
corresponding to the first expression that evaluates to true will be returned.
An expression can contain a special variable named <code>n</code> (note, it is not <code>$n</code>)
which will take the number value passed as the first message parameter. For example,
assuming a translated message is:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-quotes">'</span><span class="hl-string">n==1#one book|n&gt;1#many books</span><span class="hl-quotes">'</span></pre></div></div>

<p>and we are passing a number value 2 in the message parameter array when
calling <a href="/doc/api/1.1/YiiBase#t">Yii::t()</a>, we would obtain <code>many books</code> as the final
translated message:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">app</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">n==1#one book|n&gt;1#many books</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-comment">//</span><span class="hl-comment">or since 1.1.6</span>
<span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">app</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">n==1#one book|n&gt;1#many books</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>As a shortcut notation, if an expression is a number, it will be treated as
<code>n==Number</code>. Therefore, the above translated message can be also be written as:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-quotes">'</span><span class="hl-string">1#one book|n&gt;1#many books</span><span class="hl-quotes">'</span></pre></div></div>

<h3 id="plural-forms-format">Plural forms format</h3>

<p>Since version 1.1.6 CLDR-based plural choice format can be used with a simpler
syntax. It is handy for languages with complex plural form rules.</p>

<p>The rule for English plural forms above can be written in the following way:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">test</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">cucumber|cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">test</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">cucumber|cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-number">2</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">test</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">cucumber|cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-number">0</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>The code above will give you:</p>

<pre>cucumber
cucumbers
cucumbers
</pre>

<p>If you want to include number you can use the following code.</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">echo</span> <span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">test</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">{n} cucumber|{n} cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>Here <code>{n}</code> is a special placeholder holding number passed. It will print <code>1 cucumber</code>.</p>

<p>You can pass additional parameters:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">test</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">{username} has a cucumber|{username} has {n} cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">,
</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-number">5</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">{username}</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-quotes">'</span><span class="hl-string">samdark</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>and even replace a number parameter with something else:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">function</span> <span class="hl-identifier">convertNumber</span><span class="hl-brackets">(</span><span class="hl-var">$number</span><span class="hl-brackets">)</span>
<span class="hl-brackets">{</span>
    <span class="hl-comment">//</span><span class="hl-comment"> convert number to word</span>
    <span class="hl-reserved">return</span> <span class="hl-var">$number</span><span class="hl-code">;
</span><span class="hl-brackets">}</span>
 
<span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">test</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">{n} cucumber|{n} cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">,
</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-number">5</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">{n}</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-identifier">convertNumber</span><span class="hl-brackets">(</span><span class="hl-number">5</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>The number of plural expressions will vary by language. For example:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">app</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">{n} cucumber|{n} cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-number">62</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">app</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">{n} cucumber|{n} cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-number">.5</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">app</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">{n} cucumber|{n} cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-number">1</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">app</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">{n} cucumber|{n} cucumbers</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-number">7</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>when translated into Russian will have 4 instead of 2 message expressions:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-quotes">'</span><span class="hl-string">{n} cucumber|{n} cucumbers</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-quotes">'</span><span class="hl-string">{n} огурец|{n} огурца|{n} огурцов|{n} огурца</span><span class="hl-quotes">'</span><span class="hl-code">,</span></pre></div></div>

<p>which will produce:</p>

<pre>62 огурца
1.5 огурца
1 огурец
7 огурцов
</pre>

<blockquote class="info">
<p><strong>Info:</strong> to learn about how many expressions you should supply and in which
   order they should be, please refer to CLDR
   <a href="http://unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html">Language Plural Rules page</a>.</p>
</blockquote>

<h3 id="file-translation">File Translation</h3>

<p>File translation is accomplished by calling
<a href="/doc/api/1.1/CApplication#findLocalizedFile">CApplication::findLocalizedFile()</a>. Given the path of a file to be
translated, the method will look for a file with the same name under the
<code>LocaleID</code> subdirectory. If found, the file path will be returned;
otherwise, the original file path will be returned.</p>

<p>File translation is mainly used when rendering a view. When calling one of
the render methods in a controller or widget, the view files will be
translated automatically. For example, if the <a href="/doc/api/1.1/CApplication#language">target
language</a> is <code>zh_cn</code> while the <a href="/doc/api/1.1/CApplication#sourceLanguage">source
language</a> is <code>en_us</code>, rendering a view named
<code>edit</code> would resulting in searching for the view file
<code>protected/views/ControllerID/zh_cn/edit.php</code>. If the file is found, this
translated version will be used for rendering; otherwise, the file
<code>protected/views/ControllerID/edit.php</code> will be rendered instead.</p>

<p>File translation may also be used for other purposes, for example,
to display a translated image or load a locale-dependent data file.</p>

<h2 id="date-and-time-formatting">3. Date and Time Formatting <a class="anchor" href="#date-and-time-formatting">¶</a></h2>

<p>Date and time are often in different formats in different countries or
regions. The task of date and time formatting is thus to generate a date or
time string that fits the specified locale. Yii provides
<a href="/doc/api/1.1/CDateFormatter">CDateFormatter</a> for this purpose.</p>

<p>Each <a href="/doc/api/1.1/CDateFormatter">CDateFormatter</a> instance is associated with a target locale. To get
the formatter associated with the target locale of the whole application,
we can simply access the <a href="/doc/api/1.1/CApplication#dateFormatter">dateFormatter</a>
property of the application.</p>

<p>The <a href="/doc/api/1.1/CDateFormatter">CDateFormatter</a> class mainly provides two methods to format a UNIX
timestamp.</p>

<ul>
<li><p><a href="/doc/api/1.1/CDateFormatter#format">format</a>: this method formats the given UNIX
timestamp into a string according to a customized date-time pattern (e.g.
<code>$dateFormatter-&gt;format('yyyy-MM-dd',$timestamp)</code>).</p></li>
<li><p><a href="/doc/api/1.1/CDateFormatter#formatDateTime">formatDateTime</a>: this method formats
the given UNIX timestamp into a string according to a pattern predefined in
the target locale data (e.g. <code>short</code> format of date, <code>long</code> format of
time).</p></li>
</ul>

<h2 id="number-formatting">4. Number Formatting <a class="anchor" href="#number-formatting">¶</a></h2>

<p>Like data and time, numbers may also need to be formatted differently in different
countries or regions. Number formatting includes decimal formatting,
currency formatting and percentage formatting. Yii provides
<a href="/doc/api/1.1/CNumberFormatter">CNumberFormatter</a> for these tasks.</p>

<p>To get the number formatter associated with the target locale of the whole
application, we can access the
<a href="/doc/api/1.1/CApplication#numberFormatter">numberFormatter</a> property of the
application.</p>

<p>The following methods are provided by <a href="/doc/api/1.1/CNumberFormatter">CNumberFormatter</a> to format an
integer or double value.</p>

<ul>
<li><p><a href="/doc/api/1.1/CNumberFormatter#format">format</a>: this method formats the given
number into a string according to a customized pattern (e.g.
<code>$numberFormatter-&gt;format('#,##0.00',$number)</code>).</p></li>
<li><p><a href="/doc/api/1.1/CNumberFormatter#formatDecimal">formatDecimal</a>: this method formats
the given number using the decimal pattern predefined in the target locale
data.</p></li>
<li><p><a href="/doc/api/1.1/CNumberFormatter#formatCurrency">formatCurrency</a>: this method
formats the given number and currency code using the currency pattern
predefined in the target locale data.</p></li>
<li><p><a href="/doc/api/1.1/CNumberFormatter#formatPercentage">formatPercentage</a>: this method
formats the given number using the percentage pattern predefined in the
target locale data.</p></li>
</ul>

<div class="revision"><div class="google-ad" style="margin:-60px 0 5px 200px;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3732587985864947";
google_ad_slot = "7116172008";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>$Id$</div>
</div>
                <div class="prev-next-nav">
                            <div class="prev-topic"><a href="/doc/guide/1.1/en/topics.webservice">Web Service</a></div>
                                        <div class="next-topic"><a href="/doc/guide/1.1/en/topics.prado">Alternative Template Syntax</a></div>
                    </div>
        
		        <div class="widget-comment-list" id="comments">
	<div class="comments">
		<h3>Total 9 comments</h3>
				<div class="comment alt-0">
			<a class="cid" id="c16756" title="permalink to this comment" href="#c16756">#16756</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=16756"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=16756&amp;vote=1"><span>0</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=16756&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link bronze" href="/user/6843/">marcovtwout</a> at 2014/03/25 09:59am</div>
			<div class="title">CLocalizedFormatter</div>
			<div class="content"><p>Since Yii 1.1.14, a <a href="http://www.yiiframework.com/doc/api/1.1/CLocalizedFormatter">CLocalizedFormatter </a> is available.</p>

<p>To replace the application component 'format', you can put this in your application 'components' config:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-quotes">'</span><span class="hl-string">format</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">class</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-quotes">'</span><span class="hl-string">CLocalizedFormatter</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">,</span></pre></div></div>

<p>The application component 'format' is also used when formatting data in CGridView and CDetailView, for example. Replacing the default formatter is a lot more convenient, instead of manually calling dateFormatter() or numberFormatter() everywhere.</p>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c15333" title="permalink to this comment" href="#c15333">#15333</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=15333"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=15333&amp;vote=1"><span>2</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=15333&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/189869/">Daniel Qin</a> at 2013/10/29 10:17pm</div>
			<div class="title">standard way to use translation in module</div>
			<div class="content"><p>in the module init() function:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">app</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">setComponents</span><span class="hl-brackets">(</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
            <span class="hl-quotes">'</span><span class="hl-string">messages</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
                <span class="hl-quotes">'</span><span class="hl-string">class</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">CPhpMessageSource</span><span class="hl-quotes">'</span><span class="hl-code">,
                </span><span class="hl-quotes">'</span><span class="hl-string">basePath</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">protected/modules/www/messages</span><span class="hl-quotes">'</span><span class="hl-code">,
            </span><span class="hl-brackets">)</span><span class="hl-code">,
        </span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>then you just use Yii::t('category', 'hello world');</p>

<p>enjoy.</p>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c14231" title="permalink to this comment" href="#c14231">#14231</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=14231"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=14231&amp;vote=1"><span>0</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=14231&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/117452/">wadim</a> at 2013/07/29 04:12am</div>
			<div class="title">Passing variables to the translation file</div>
			<div class="content"><p>in your code:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">echo</span> <span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">task</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">keyValue</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">ticketName</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">Name of Ticket</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>in the translation file (protected/messages/ru/task.php</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-code">...
  </span><span class="hl-quotes">'</span><span class="hl-string">keyValue</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">Name of ticket is - ticketName</span><span class="hl-quotes">'</span><span class="hl-code">
}</span></pre></div></div>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c11247" title="permalink to this comment" href="#c11247">#11247</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=11247"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=11247&amp;vote=1"><span>3</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=11247&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/3518/">rAWTAZ</a> at 2012/12/31 09:26pm</div>
			<div class="title">Handling missing translations</div>
			<div class="content"><p>Note that CMessageSource (the base class for the standard message sources as described in this article) has an event named <a href="http://www.yiiframework.com/doc/api/CMessageSource#onMissingTranslation-detail">onMissingTranslation</a> which can be used to handle the case when a translation is requested but is missing.</p>

<p>One way to use it is to define a simple handler function for it, e.g. like this:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">class</span> <span class="hl-identifier">MyHelper</span>
<span class="hl-brackets">{</span>
    <span class="hl-reserved">public</span> <span class="hl-reserved">static</span> <span class="hl-reserved">function</span> <span class="hl-identifier">emailMissingTranslation</span><span class="hl-brackets">(</span><span class="hl-var">$event</span><span class="hl-brackets">)</span>
    <span class="hl-brackets">{</span>
        <span class="hl-var">$body</span><span class="hl-code"> = </span><span class="hl-identifier">implode</span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
                <span class="hl-quotes">"</span><span class="hl-string">Language: </span><span class="hl-var">{$event-&gt;language}</span><span class="hl-quotes">"</span><span class="hl-code">,
                </span><span class="hl-quotes">"</span><span class="hl-string">Category: </span><span class="hl-var">{$event-&gt;category}</span><span class="hl-quotes">"</span><span class="hl-code">,
                </span><span class="hl-quotes">"</span><span class="hl-string">Message: </span><span class="hl-var">{$event-&gt;message}</span><span class="hl-quotes">"</span><span class="hl-code">,
        </span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
 
        </span><span class="hl-comment">//</span><span class="hl-comment"> Add code to e-mail the contents of $body</span>
        <span class="hl-comment">//</span><span class="hl-comment"> ...</span>
    <span class="hl-brackets">}</span>
<span class="hl-brackets">}</span></pre></div></div>

<p>Then, to make the above handler function used when there's a missing translation, configure the 'onMissingTranslation' option of the 'messages' component in the application's config file (usually protected/config/main.php):</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-quotes">'</span><span class="hl-string">components</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
    <span class="hl-comment">//</span><span class="hl-comment"> ...</span>
    <span class="hl-quotes">'</span><span class="hl-string">messages</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
        <span class="hl-quotes">'</span><span class="hl-string">onMissingTranslation</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">MyHelper</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">emailMissingTranslation</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">,
    </span><span class="hl-brackets">)</span><span class="hl-code">,
    </span><span class="hl-comment">//</span><span class="hl-comment"> ...</span>
<span class="hl-brackets">)</span><span class="hl-code">,</span></pre></div></div>

<p>You can of course make another type of handler for the missing translations, for example adding them to a database table in preparation for an administrator to provide the translation using some CRUD. The above is just an example of how to make it happen.</p>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c10353" title="permalink to this comment" href="#c10353">#10353</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=10353"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=10353&amp;vote=1"><span>1</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=10353&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/7401/">Roman Solomatin</a> at 2012/10/22 08:04am</div>
			<div class="title">File Translation</div>
			<div class="content"><p>A quick note on file translation: both files</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">protected</span><span class="hl-code">/</span><span class="hl-identifier">views</span><span class="hl-code">/</span><span class="hl-identifier">ControllerID</span><span class="hl-code">/</span><span class="hl-identifier">edit</span><span class="hl-code">.</span><span class="hl-identifier">php</span>
<span class="hl-reserved">protected</span><span class="hl-code">/</span><span class="hl-identifier">views</span><span class="hl-code">/</span><span class="hl-identifier">ControllerID</span><span class="hl-code">/</span><span class="hl-identifier">LocaleID</span><span class="hl-code">/</span><span class="hl-identifier">edit</span><span class="hl-code">.</span><span class="hl-identifier">php</span></pre></div></div>

<p>must exist, or you will get a "view not found" exception.</p>

<p>The same is true if you are using themes: both files</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-identifier">themes</span><span class="hl-code">/</span><span class="hl-identifier">ThemeID</span><span class="hl-code">/</span><span class="hl-identifier">views</span><span class="hl-code">/</span><span class="hl-identifier">ControllerID</span><span class="hl-code">/</span><span class="hl-identifier">edit</span><span class="hl-code">.</span><span class="hl-identifier">php</span>
<span class="hl-identifier">themes</span><span class="hl-code">/</span><span class="hl-identifier">ThemeID</span><span class="hl-code">/</span><span class="hl-identifier">views</span><span class="hl-code">/</span><span class="hl-identifier">ControllerID</span><span class="hl-code">/</span><span class="hl-identifier">LocaleID</span><span class="hl-code">/</span><span class="hl-identifier">edit</span><span class="hl-code">.</span><span class="hl-identifier">php</span></pre></div></div>

<p>must exist.</p>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c4440" title="permalink to this comment" href="#c4440">#4440</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=4440"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=4440&amp;vote=1"><span>2</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=4440&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/23065/">Leffe</a> at 2011/07/09 05:04am</div>
			<div class="title">Testing source + target language</div>
			<div class="content"><p>When you want to test if the set sourceLanguage + target language in your yii config works, look at eg. the pager of a CListView. Don't look at eg. the default front page or login page as the strings there don't make use of Yii::t.</p>

<p>A tip that helped me is as tasay wrote, to take a look in the framework/messages directory and pick a locale there, rather than looking on a full list of all possible locale strings. For example for Swedish there exist sv_SE and sv_FI (SE = Sweden, FI = Finland), but in framework/messages there exist only a sv.php file. So if I use "sv" as my target language, I get the core/zii translations for free rather than having to translate that as well.</p>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c3902" title="permalink to this comment" href="#c3902">#3902</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=3902"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=3902&amp;vote=1"><span>3</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=3902&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link bronze" href="/user/9285/">yiqing95</a> at 2011/05/19 07:15am</div>
			<div class="title">i18n for modules</div>
			<div class="content"><p>when in a module, if I want to use i18n I should use it like</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">MyModuleNameModule.translation</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">it works</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>

<p>every time i should type the prefix "MyModuleName", 
so if the method t should find the moduleName itself,
eg:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">function</span> <span class="hl-identifier">Yiit</span><span class="hl-brackets">(</span><span class="hl-var">$cateName</span><span class="hl-code">,</span><span class="hl-var">$msg</span><span class="hl-code">,..</span><span class="hl-brackets">)</span><span class="hl-brackets">{</span>
    <span class="hl-var">$module</span><span class="hl-code"> = </span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">app</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">controller</span><span class="hl-code">-&gt;</span><span class="hl-identifier">module</span><span class="hl-code">;
    </span><span class="hl-var">$prefix</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-quotes">'</span><span class="hl-code">;
    </span><span class="hl-reserved">if</span><span class="hl-brackets">(</span><span class="hl-code">!</span><span class="hl-identifier">is_null</span><span class="hl-brackets">(</span><span class="hl-var">$module</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-brackets">{</span>
       <span class="hl-var">$prefix</span><span class="hl-code"> = </span><span class="hl-identifier">ucfirst</span><span class="hl-brackets">(</span><span class="hl-var">$module</span><span class="hl-code">-&gt;</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">.</span><span class="hl-quotes">'</span><span class="hl-string">Module.</span><span class="hl-quotes">'</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span>
    <span class="hl-comment">//</span><span class="hl-comment">echo $prefix.$cateName;</span>
    <span class="hl-reserved">return</span> <span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">t</span><span class="hl-brackets">(</span><span class="hl-var">$prefix</span><span class="hl-code">.</span><span class="hl-var">$cateName</span><span class="hl-code">,</span><span class="hl-var">$msg</span><span class="hl-code">,...</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span class="hl-brackets">}</span></pre></div></div>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c380" title="permalink to this comment" href="#c380">#380</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=380"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=380&amp;vote=1"><span>15</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=380&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/5595/">Aleksy Goroszko</a> at 2010/06/21 11:38am</div>
			<div class="title">Working example</div>
			<div class="content"><p>If you need to translate inside your module, just follow the steps (example uses module named Dictionary):</p>

<p></p>

<ol><li>Ensure your module class name, like: <b>DictionaryModule</b><br /></li>
<li>Edit main config <b>/protected/config/main.php</b> - add sourceLanguage and language, ie:<br /><code>
'sourceLanguage' =&gt; 'en_us',<br />
'language' =&gt; 'pl_pl',
</code></li>
<li>Inside module folder (<b>protected/modules/dictionary</b>) create file: <b>messages/pl_pl/translation.php</b><br /></li>
<li>Edit translation.php and create array like: <br /><code>
return array (<br />
  'it works' =&gt; 'To dziala',<br />
);<br /></code><br /></li>
<li>In your module view code just use: <br /><code>
&lt;?php echo Yii::t('DictionaryModule.translation','it works') ?&gt;
</code></li>
</ol><p></p>

<p></p>

<p>If you want to use translation, but not inside module, just follow the steps:</p>

<p></p>

<ol><li>Edit main config <b>/protected/config/main.php</b> - add sourceLanguage and language, ie:<br /><code>
'sourceLanguage' =&gt; 'en_us',<br />
'language' =&gt; 'pl_pl',
</code><br /></li>
<li>Inside application folder (<b>protected</b>) create file: <b>messages/pl_pl/translation.php</b><br /></li>
<li>Edit translation.php and create array like:
<code><br />
return array (<br />
  'it works too' =&gt; 'To tez dziala',<br />
);<br /></code></li>
<li>In your module code just use:  <br /><code> 
&lt;?php echo Yii::t('translation','it works too') ?&gt;
</code></li>
</ol><p>Enjoy :)<br />
Aleksy Goroszko</p>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c420" title="permalink to this comment" href="#c420">#420</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=420"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=420&amp;vote=1"><span>5</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=420&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/5371/">Taylor</a> at 2010/06/08 06:30pm</div>
			<div class="title">Examples</div>
			<div class="content"><p>I'm new to Yiii, so read at your own risk.</p>

<p>Here are the steps I took to get i18n working</p>

<p>1) if your source language is not 'en_us' then in your config file add this line in the return array:
    'sourceLanguage'=&gt;'es_en', // or whatever the locale</p>

<p>2) You also need to specify the target language.  This also can be specified in the config file 
    'language'=&gt;'es_us',  // again, whatever the locale</p>

<p>3) Now create your translation file.  In the /protected/messages directory you need to create another directory for each locale you will have translations for.  (NOTICE:: Yii has translations for some of it's content.  If you want to take advantage of these translations, you need to use a locale that coincides with the locales they used.  For example I initially set up a directory of es_us for us Spanish.  But then system messages were not working because Yii uses es.)<br />
So, in my case, I created a file in /protected/messages/es/primary.php  the name of the file is important as you will need to reference it when you call Yii::t('primary','Hello World');</p>

<p>The contents of the translation file look like this:
&lt;?
return array(
'Hello World'=&gt; 'Hola Mundo',
);
?&gt;
(NOTICE: Save your file as utf-8 and not ascii. Otherwise, your translations will show up funny.</p>

<p>4) Now call &lt;?=Yii::t('primary','Hello World');?&gt; wherever you need to.</p>

<p>One last note you can find Yii's locales in framework/messages.</p>

<p>Hope this helps.</p>
</div>
					</div>
			</div>
	<div id="comment-add">
		<h3 id="add-comment">Leave a comment</h3>

			<p>Please <a class="g-login" rel="/doc/guide/1.1/en/topics.i18n#add-comment" href="#">login</a> to leave your comment.</p>
		</div>
</div>
           </div>
</div>
					</div>
				
								<div class="clear"></div>
			</div>
			<div class="clear"></div>
					</div>
	</div>

	<div class="layout-main-footer">
		<div class="container_12">
			<div class="grid_6">
				<ul class="menu">
				<li class="main">About
<ul class="sub">
<li><a href="/about/">About Yii</a></li>
<li><a href="/features/">Features</a></li>
<li><a href="/performance/">Performance</a></li>
<li><a href="/license/">License</a></li>
<li><a href="/contact/">Contact Us</a></li>
</ul>
</li>
<li class="main">Downloads
<ul class="sub">
<li><a href="/download/">Framework</a></li>
<li><a href="/extensions/">Extensions</a></li>
<li><a href="/demos/">Demos</a></li>
<li><a href="/logo/">Logo</a></li>
</ul>
</li>
<li class="main">Documentation
<ul class="sub">
<li><a href="/tour/">Take the Tour</a></li>
<li><a href="/tutorials/">Tutorials</a></li>
<li><a href="/doc/api/">Class Reference</a></li>
<li><a href="/doc-2.0/guide-index.html">Guide 2.0</a></li>
<li><a href="/doc-2.0/index.html">Class Reference 2.0</a></li>
<li><a href="/wiki/">Wiki</a></li>
<li><a href="/screencasts/">Screencasts</a></li>
<li><a href="/resources/">Resources</a></li>
</ul>
</li>
<li class="main">Development
<ul class="sub">
<li><a href="/contribute/">Contribute to Yii</a></li>
<li><a href="https://github.com/yiisoft/yii/commits/master">Latest Updates</a></li>
<li><a href="https://github.com/yiisoft/yii/issues/new">Report a Bug</a></li>
<li><a href="/security/">Report a Security Issue</a></li>
</ul>
</li>
<li class="main">Community
<ul class="sub">
<li><a href="/forum/">Forum</a></li>
<li><a href="/chat/">Live Chat</a></li>
<li><a href="/news/">News</a></li>
<li><a href="/user/halloffame/">Hall of Fame</a></li>
<li><a href="/badges/">Badges</a></li>
</ul>
</li>
				</ul>
			</div>
			<div class="grid_1">&nbsp;</div>
			<div class="grid_5">
				<h3>Yii Supporters</h3>
				<ul class="g-list-none supporters">

				</ul>
			</div>

			<div class="clear"></div>
			<div class="grid_12 copyright">
				<ul class="social">
					<li class="twitter"><a href="https://twitter.com/yiiframework" target="_blank" rel="nofollow" title="follow us on twitter">Twitter</a></li>
					<li class="facebook"><a href="https://www.facebook.com/groups/yiitalk/" target="_blank" rel="nofollow" title="join yii group at facebook">Facebook</a></li>
					<li class="linkedin"><a href="http://www.linkedin.com/groups?gid=1483367" target="_blank" rel="nofollow" title="join yii group at linkedin">LinkedIn</a></li>
					<li class="feeds"><a title="RSS feeds" href="/rss.xml/">RSS Feeds</a></li>
				</ul>
				<div class="clear"></div>
				<a href="/tos/">Terms of Service</a> |
				<a href="/license/">License</a> |
				<a href="/contact/">Contact Us</a><br/>
				Copyright &copy; 2015 by <a href="http://www.yiisoft.com">Yii Software LLC</a>.
				All Rights Reserved.
			</div>
			<div class="clear"></div>
		</div>
	</div>
</div>

    <script type="text/javascript" src="/js/site-20121004195728.js"></script>


<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['site._setAccount', 'UA-5843896-1']);
_gaq.push(['site._trackPageview']);

(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<script type="text/javascript">
function trackClick(link, action, category) {
	action=action || link.href;
	category=category || 'Outbound Links';
	try {
		_gaq.push(['site._trackEvent', category, action]);
		setTimeout('document.location = "' + link.href + '"', 250);
	}catch(err){}
	return false;
}
</script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
</body>
</html>
