<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    	<meta charset="UTF-8" />
		<meta name="keywords" content="yii framework, API, manual, class reference, CDbCriteria, version 1.1" />
	<meta name="description" content="CDbCriteria represents a query criteria, such as conditions, ordering by, limit/offset." />
    <link rel="shortcut icon" type="image/x-icon" href="http://static.yiiframework.com/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="http://static.yiiframework.com/css/site-20130404102234.css" />

	<link title="Lives News for Yii Framework" rel="alternate" type="application/rss+xml" href="http://www.yiiframework.com/rss.xml/" />
	<link rel="stylesheet" type="text/css" href="/assets/a5450804/treeview/jquery.treeview.css" />
<link rel="stylesheet" type="text/css" href="/assets/a5450804/autocomplete/jquery.autocomplete.css" />
<title>CDbCriteria | Class Reference | Yii PHP Framework</title>
	<link rel="search" type="application/opensearchdescription+xml" title="Yii API Search" href="/search-api.xml" />
	<link rel="search" type="application/opensearchdescription+xml" title="Yii Site Search" href="/search-site.xml" />
</head>

<body class="mac">
<div class="layout-main">

	<div class="layout-main-shortcuts">
		<div class="container_12">
            <a style="color:darkred;" href="https://github.com/yiisoft/yii2">Github</a> &middot;
            <a style="color:darkgreen;" href="https://twitter.com/yiiframework">Twitter</a> &middot;
            <a style="color:darkblue;" href="https://www.facebook.com/groups/yiitalk/">Facebook</a> &middot;
            <a href="/doc/guide/">Guide</a> &middot;
            <a href="/doc/api/">Class Reference</a> &middot;
            <a href="/doc-2.0/guide-index.html">Guide 2.0</a> &middot;
            <a href="/doc-2.0/index.html">API 2.0</a> &middot;
            <a href="/wiki/">Wiki</a> &middot;
            <a href="/extensions/">Extensions</a> &middot;
            <a href="/forum/">Forum</a> &middot;
			<a href="/chat/">Live Chat</a> &middot;
                            <a href="/login/">Login</a>            		</div>
	</div>

	<div class="layout-main-bg">
		<div class="layout-main-header">
			<div class="container_12">
				<div class="grid_4">
					<a class="logo" href="/"><img alt="Yii Logo" src="http://static.yiiframework.com/css/img/logo.png" title="Yii Framework" width="284" height="64" /></a>				</div>
				<div class="grid_8 omega">
					<div class="nav">
						<ul class="menu" id="yw1">
<li class="about"><a class="main" href="/about/">About</a>
<ul>
<li><a href="/about/">About Yii</a></li>
<li><a href="/features/">Features</a></li>
<li><a href="/performance/">Performance</a></li>
<li><a href="/license/">License</a></li>
<li class="last"><a href="/contact/">Contact Us</a></li>
</ul>
</li>
<li class="downloads"><a class="main" href="/download/">Downloads</a>
<ul>
<li><a href="/download/">Framework</a></li>
<li><a href="/extensions/">Extensions</a></li>
<li><a href="/demos/">Demos</a></li>
<li class="last"><a href="/logo/">Logo</a></li>
</ul>
</li>
<li class="documentation active"><a class="main" href="/doc/">Documentation</a>
<ul>
<li><a href="/tour/">Take the Tour</a></li>
<li><a href="/tutorials/">Tutorials</a></li>
<li class="active"><a href="/doc/api/">Class Reference</a></li>
<li><a href="/doc-2.0/guide-index.html">Guide 2.0</a></li>
<li><a href="/doc-2.0/index.html">Class Reference 2.0</a></li>
<li><a href="/wiki/">Wiki</a></li>
<li><a href="/screencasts/">Screencasts</a></li>
<li class="last"><a href="/resources/">Resources</a></li>
</ul>
</li>
<li class="development"><a class="main" href="https://github.com/yiisoft/yii/commits/master">Development</a>
<ul>
<li><a href="/contribute/">Contribute to Yii</a></li>
<li><a href="https://github.com/yiisoft/yii/commits/master">Latest Updates</a></li>
<li><a href="https://github.com/yiisoft/yii/issues/new">Report a Bug</a></li>
<li class="last"><a href="/security/">Report a Security Issue</a></li>
</ul>
</li>
<li class="community last"><a class="main" href="/community/">Community</a>
<ul>
<li><a href="/forum/">Forum</a></li>
<li><a href="/chat/">Live Chat</a></li>
<li><a href="/news/">News</a></li>
<li><a href="/user/halloffame/">Hall of Fame</a></li>
<li class="last"><a href="/badges/">Badges</a></li>
</ul>
</li>
</ul>						<div class="search">
							<form method="get" action="/search/">
								<div class="keyword">
	                                <input name="q" value="" />
									<a href="#" title="search" class="global-search">search</a>
								</div>
							</form>
						</div>
					</div>
				</div>
				<div class="clear"></div>
			</div>
		</div>

		<div class="container_12">
						<div class="grid_12">
												<div class="layout-main-submenu">
					<ul>
						<li class="main">Documentation</li>
												<li><a href="/tour/">Take the Tour</a></li>
												<li><a href="/tutorials/">Tutorials</a></li>
												<li class="active"><a href="/doc/api/">Class Reference</a></li>
												<li><a href="/doc-2.0/guide-index.html">Guide 2.0</a></li>
												<li><a href="/doc-2.0/index.html">Class Reference 2.0</a></li>
												<li><a href="/wiki/">Wiki</a></li>
												<li><a href="/screencasts/">Screencasts</a></li>
												<li><a href="/resources/">Resources</a></li>
											</ul>
				</div>
				
				
				
									<div class="layout-main-body">
						<div class="api-view">
    <div class="grid_3 alpha">
    	<div class="api-toc">
	<div class="versions">
		<strong>Versions</strong>
		<ul>
<li><span>1.1</span></li>
<li><a href="/doc/api/1.0/CDbCriteria">1.0</a></li>
		</ul>
	</div>
	<div class="search">
		<form action="/search/" method="get">			<strong>Search class reference</strong>
			<input type="hidden" name="type" value="api-suggest" />
			<input type="text" name="q" class="keyword g-text" />
			<input type="submit" value="Find" class="btn btn-info submit-button" />		</form>	</div>

<ul class="toc filetree" id="yw0">
<li class="closed"><span class="folder">system</span>
<ul>
<li><a href="/doc/api/1.1/Yii">&nbsp;Yii</a></li>
<li><a href="/doc/api/1.1/YiiBase">&nbsp;YiiBase</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.base</span>
<ul>
<li><a href="/doc/api/1.1/CApplication">&nbsp;CApplication</a></li>
<li><a href="/doc/api/1.1/CApplicationComponent">&nbsp;CApplicationComponent</a></li>
<li><a href="/doc/api/1.1/CBehavior">&nbsp;CBehavior</a></li>
<li><a href="/doc/api/1.1/CComponent">&nbsp;CComponent</a></li>
<li><a href="/doc/api/1.1/CEnumerable">&nbsp;CEnumerable</a></li>
<li><a href="/doc/api/1.1/CErrorEvent">&nbsp;CErrorEvent</a></li>
<li><a href="/doc/api/1.1/CErrorHandler">&nbsp;CErrorHandler</a></li>
<li><a href="/doc/api/1.1/CEvent">&nbsp;CEvent</a></li>
<li><a href="/doc/api/1.1/CException">&nbsp;CException</a></li>
<li><a href="/doc/api/1.1/CExceptionEvent">&nbsp;CExceptionEvent</a></li>
<li><a href="/doc/api/1.1/CHttpException">&nbsp;CHttpException</a></li>
<li><a href="/doc/api/1.1/CModel">&nbsp;CModel</a></li>
<li><a href="/doc/api/1.1/CModelBehavior">&nbsp;CModelBehavior</a></li>
<li><a href="/doc/api/1.1/CModelEvent">&nbsp;CModelEvent</a></li>
<li><a href="/doc/api/1.1/CModule">&nbsp;CModule</a></li>
<li><a href="/doc/api/1.1/CSecurityManager">&nbsp;CSecurityManager</a></li>
<li><a href="/doc/api/1.1/CStatePersister">&nbsp;CStatePersister</a></li>
<li><a href="/doc/api/1.1/IAction">&nbsp;IAction</a></li>
<li><a href="/doc/api/1.1/IApplicationComponent">&nbsp;IApplicationComponent</a></li>
<li><a href="/doc/api/1.1/IAuthManager">&nbsp;IAuthManager</a></li>
<li><a href="/doc/api/1.1/IBehavior">&nbsp;IBehavior</a></li>
<li><a href="/doc/api/1.1/IFilter">&nbsp;IFilter</a></li>
<li><a href="/doc/api/1.1/IStatePersister">&nbsp;IStatePersister</a></li>
<li><a href="/doc/api/1.1/IUserIdentity">&nbsp;IUserIdentity</a></li>
<li><a href="/doc/api/1.1/IViewRenderer">&nbsp;IViewRenderer</a></li>
<li><a href="/doc/api/1.1/IWebServiceProvider">&nbsp;IWebServiceProvider</a></li>
<li><a href="/doc/api/1.1/IWebUser">&nbsp;IWebUser</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.caching</span>
<ul>
<li><a href="/doc/api/1.1/CApcCache">&nbsp;CApcCache</a></li>
<li><a href="/doc/api/1.1/CCache">&nbsp;CCache</a></li>
<li><a href="/doc/api/1.1/CDbCache">&nbsp;CDbCache</a></li>
<li><a href="/doc/api/1.1/CDummyCache">&nbsp;CDummyCache</a></li>
<li><a href="/doc/api/1.1/CEAcceleratorCache">&nbsp;CEAcceleratorCache</a></li>
<li><a href="/doc/api/1.1/CFileCache">&nbsp;CFileCache</a></li>
<li><a href="/doc/api/1.1/CMemCache">&nbsp;CMemCache</a></li>
<li><a href="/doc/api/1.1/CMemCacheServerConfiguration">&nbsp;CMemCacheServerConfiguration</a></li>
<li><a href="/doc/api/1.1/CRedisCache">&nbsp;CRedisCache</a></li>
<li><a href="/doc/api/1.1/CWinCache">&nbsp;CWinCache</a></li>
<li><a href="/doc/api/1.1/CXCache">&nbsp;CXCache</a></li>
<li><a href="/doc/api/1.1/CZendDataCache">&nbsp;CZendDataCache</a></li>
<li><a href="/doc/api/1.1/ICache">&nbsp;ICache</a></li>
<li><a href="/doc/api/1.1/ICacheDependency">&nbsp;ICacheDependency</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.caching.dependencies</span>
<ul>
<li><a href="/doc/api/1.1/CCacheDependency">&nbsp;CCacheDependency</a></li>
<li><a href="/doc/api/1.1/CChainedCacheDependency">&nbsp;CChainedCacheDependency</a></li>
<li><a href="/doc/api/1.1/CDbCacheDependency">&nbsp;CDbCacheDependency</a></li>
<li><a href="/doc/api/1.1/CDirectoryCacheDependency">&nbsp;CDirectoryCacheDependency</a></li>
<li><a href="/doc/api/1.1/CExpressionDependency">&nbsp;CExpressionDependency</a></li>
<li><a href="/doc/api/1.1/CFileCacheDependency">&nbsp;CFileCacheDependency</a></li>
<li><a href="/doc/api/1.1/CGlobalStateCacheDependency">&nbsp;CGlobalStateCacheDependency</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.collections</span>
<ul>
<li><a href="/doc/api/1.1/CAttributeCollection">&nbsp;CAttributeCollection</a></li>
<li><a href="/doc/api/1.1/CConfiguration">&nbsp;CConfiguration</a></li>
<li><a href="/doc/api/1.1/CList">&nbsp;CList</a></li>
<li><a href="/doc/api/1.1/CListIterator">&nbsp;CListIterator</a></li>
<li><a href="/doc/api/1.1/CMap">&nbsp;CMap</a></li>
<li><a href="/doc/api/1.1/CMapIterator">&nbsp;CMapIterator</a></li>
<li><a href="/doc/api/1.1/CQueue">&nbsp;CQueue</a></li>
<li><a href="/doc/api/1.1/CQueueIterator">&nbsp;CQueueIterator</a></li>
<li><a href="/doc/api/1.1/CStack">&nbsp;CStack</a></li>
<li><a href="/doc/api/1.1/CStackIterator">&nbsp;CStackIterator</a></li>
<li><a href="/doc/api/1.1/CTypedList">&nbsp;CTypedList</a></li>
<li><a href="/doc/api/1.1/CTypedMap">&nbsp;CTypedMap</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.console</span>
<ul>
<li><a href="/doc/api/1.1/CConsoleApplication">&nbsp;CConsoleApplication</a></li>
<li><a href="/doc/api/1.1/CConsoleCommand">&nbsp;CConsoleCommand</a></li>
<li><a href="/doc/api/1.1/CConsoleCommandBehavior">&nbsp;CConsoleCommandBehavior</a></li>
<li><a href="/doc/api/1.1/CConsoleCommandEvent">&nbsp;CConsoleCommandEvent</a></li>
<li><a href="/doc/api/1.1/CConsoleCommandRunner">&nbsp;CConsoleCommandRunner</a></li>
<li><a href="/doc/api/1.1/CHelpCommand">&nbsp;CHelpCommand</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.db</span>
<ul>
<li><a href="/doc/api/1.1/CDbCommand">&nbsp;CDbCommand</a></li>
<li><a href="/doc/api/1.1/CDbConnection">&nbsp;CDbConnection</a></li>
<li><a href="/doc/api/1.1/CDbDataReader">&nbsp;CDbDataReader</a></li>
<li><a href="/doc/api/1.1/CDbException">&nbsp;CDbException</a></li>
<li><a href="/doc/api/1.1/CDbMigration">&nbsp;CDbMigration</a></li>
<li><a href="/doc/api/1.1/CDbTransaction">&nbsp;CDbTransaction</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.db.ar</span>
<ul>
<li><a href="/doc/api/1.1/CActiveFinder">&nbsp;CActiveFinder</a></li>
<li><a href="/doc/api/1.1/CActiveRecord">&nbsp;CActiveRecord</a></li>
<li><a href="/doc/api/1.1/CActiveRecordBehavior">&nbsp;CActiveRecordBehavior</a></li>
<li><a href="/doc/api/1.1/CActiveRecordMetaData">&nbsp;CActiveRecordMetaData</a></li>
<li><a href="/doc/api/1.1/CActiveRelation">&nbsp;CActiveRelation</a></li>
<li><a href="/doc/api/1.1/CBaseActiveRelation">&nbsp;CBaseActiveRelation</a></li>
<li><a href="/doc/api/1.1/CBelongsToRelation">&nbsp;CBelongsToRelation</a></li>
<li><a href="/doc/api/1.1/CHasManyRelation">&nbsp;CHasManyRelation</a></li>
<li><a href="/doc/api/1.1/CHasOneRelation">&nbsp;CHasOneRelation</a></li>
<li><a href="/doc/api/1.1/CJoinElement">&nbsp;CJoinElement</a></li>
<li><a href="/doc/api/1.1/CJoinQuery">&nbsp;CJoinQuery</a></li>
<li><a href="/doc/api/1.1/CManyManyRelation">&nbsp;CManyManyRelation</a></li>
<li><a href="/doc/api/1.1/CStatElement">&nbsp;CStatElement</a></li>
<li><a href="/doc/api/1.1/CStatRelation">&nbsp;CStatRelation</a></li>
</ul>
</li>
<li class="open"><span class="folder">system.db.schema</span>
<ul>
<li><a href="/doc/api/1.1/CDbColumnSchema">&nbsp;CDbColumnSchema</a></li>
<li><a href="/doc/api/1.1/CDbCommandBuilder">&nbsp;CDbCommandBuilder</a></li>
<li class="active">&nbsp;CDbCriteria</li>
<li><a href="/doc/api/1.1/CDbExpression">&nbsp;CDbExpression</a></li>
<li><a href="/doc/api/1.1/CDbSchema">&nbsp;CDbSchema</a></li>
<li><a href="/doc/api/1.1/CDbTableSchema">&nbsp;CDbTableSchema</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.db.schema.cubrid</span>
<ul>
<li><a href="/doc/api/1.1/CCubridColumnSchema">&nbsp;CCubridColumnSchema</a></li>
<li><a href="/doc/api/1.1/CCubridSchema">&nbsp;CCubridSchema</a></li>
<li><a href="/doc/api/1.1/CCubridTableSchema">&nbsp;CCubridTableSchema</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.db.schema.mssql</span>
<ul>
<li><a href="/doc/api/1.1/CMssqlColumnSchema">&nbsp;CMssqlColumnSchema</a></li>
<li><a href="/doc/api/1.1/CMssqlCommandBuilder">&nbsp;CMssqlCommandBuilder</a></li>
<li><a href="/doc/api/1.1/CMssqlPdoAdapter">&nbsp;CMssqlPdoAdapter</a></li>
<li><a href="/doc/api/1.1/CMssqlSchema">&nbsp;CMssqlSchema</a></li>
<li><a href="/doc/api/1.1/CMssqlSqlsrvPdoAdapter">&nbsp;CMssqlSqlsrvPdoAdapter</a></li>
<li><a href="/doc/api/1.1/CMssqlTableSchema">&nbsp;CMssqlTableSchema</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.db.schema.mysql</span>
<ul>
<li><a href="/doc/api/1.1/CMysqlColumnSchema">&nbsp;CMysqlColumnSchema</a></li>
<li><a href="/doc/api/1.1/CMysqlCommandBuilder">&nbsp;CMysqlCommandBuilder</a></li>
<li><a href="/doc/api/1.1/CMysqlSchema">&nbsp;CMysqlSchema</a></li>
<li><a href="/doc/api/1.1/CMysqlTableSchema">&nbsp;CMysqlTableSchema</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.db.schema.oci</span>
<ul>
<li><a href="/doc/api/1.1/COciColumnSchema">&nbsp;COciColumnSchema</a></li>
<li><a href="/doc/api/1.1/COciCommandBuilder">&nbsp;COciCommandBuilder</a></li>
<li><a href="/doc/api/1.1/COciSchema">&nbsp;COciSchema</a></li>
<li><a href="/doc/api/1.1/COciTableSchema">&nbsp;COciTableSchema</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.db.schema.pgsql</span>
<ul>
<li><a href="/doc/api/1.1/CPgsqlColumnSchema">&nbsp;CPgsqlColumnSchema</a></li>
<li><a href="/doc/api/1.1/CPgsqlCommandBuilder">&nbsp;CPgsqlCommandBuilder</a></li>
<li><a href="/doc/api/1.1/CPgsqlSchema">&nbsp;CPgsqlSchema</a></li>
<li><a href="/doc/api/1.1/CPgsqlTableSchema">&nbsp;CPgsqlTableSchema</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.db.schema.sqlite</span>
<ul>
<li><a href="/doc/api/1.1/CSqliteColumnSchema">&nbsp;CSqliteColumnSchema</a></li>
<li><a href="/doc/api/1.1/CSqliteCommandBuilder">&nbsp;CSqliteCommandBuilder</a></li>
<li><a href="/doc/api/1.1/CSqliteSchema">&nbsp;CSqliteSchema</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.gii</span>
<ul>
<li><a href="/doc/api/1.1/CCodeFile">&nbsp;CCodeFile</a></li>
<li><a href="/doc/api/1.1/CCodeForm">&nbsp;CCodeForm</a></li>
<li><a href="/doc/api/1.1/CCodeGenerator">&nbsp;CCodeGenerator</a></li>
<li><a href="/doc/api/1.1/CCodeModel">&nbsp;CCodeModel</a></li>
<li><a href="/doc/api/1.1/GiiModule">&nbsp;GiiModule</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.i18n</span>
<ul>
<li><a href="/doc/api/1.1/CChoiceFormat">&nbsp;CChoiceFormat</a></li>
<li><a href="/doc/api/1.1/CDateFormatter">&nbsp;CDateFormatter</a></li>
<li><a href="/doc/api/1.1/CDbMessageSource">&nbsp;CDbMessageSource</a></li>
<li><a href="/doc/api/1.1/CGettextMessageSource">&nbsp;CGettextMessageSource</a></li>
<li><a href="/doc/api/1.1/CLocale">&nbsp;CLocale</a></li>
<li><a href="/doc/api/1.1/CMessageSource">&nbsp;CMessageSource</a></li>
<li><a href="/doc/api/1.1/CMissingTranslationEvent">&nbsp;CMissingTranslationEvent</a></li>
<li><a href="/doc/api/1.1/CNumberFormatter">&nbsp;CNumberFormatter</a></li>
<li><a href="/doc/api/1.1/CPhpMessageSource">&nbsp;CPhpMessageSource</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.i18n.gettext</span>
<ul>
<li><a href="/doc/api/1.1/CGettextFile">&nbsp;CGettextFile</a></li>
<li><a href="/doc/api/1.1/CGettextMoFile">&nbsp;CGettextMoFile</a></li>
<li><a href="/doc/api/1.1/CGettextPoFile">&nbsp;CGettextPoFile</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.logging</span>
<ul>
<li><a href="/doc/api/1.1/CChainedLogFilter">&nbsp;CChainedLogFilter</a></li>
<li><a href="/doc/api/1.1/CDbLogRoute">&nbsp;CDbLogRoute</a></li>
<li><a href="/doc/api/1.1/CEmailLogRoute">&nbsp;CEmailLogRoute</a></li>
<li><a href="/doc/api/1.1/CFileLogRoute">&nbsp;CFileLogRoute</a></li>
<li><a href="/doc/api/1.1/CLogFilter">&nbsp;CLogFilter</a></li>
<li><a href="/doc/api/1.1/CLogRoute">&nbsp;CLogRoute</a></li>
<li><a href="/doc/api/1.1/CLogRouter">&nbsp;CLogRouter</a></li>
<li><a href="/doc/api/1.1/CLogger">&nbsp;CLogger</a></li>
<li><a href="/doc/api/1.1/CProfileLogRoute">&nbsp;CProfileLogRoute</a></li>
<li><a href="/doc/api/1.1/CSysLogRoute">&nbsp;CSysLogRoute</a></li>
<li><a href="/doc/api/1.1/CWebLogRoute">&nbsp;CWebLogRoute</a></li>
<li><a href="/doc/api/1.1/ILogFilter">&nbsp;ILogFilter</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.test</span>
<ul>
<li><a href="/doc/api/1.1/CDbFixtureManager">&nbsp;CDbFixtureManager</a></li>
<li><a href="/doc/api/1.1/CDbTestCase">&nbsp;CDbTestCase</a></li>
<li><a href="/doc/api/1.1/CTestCase">&nbsp;CTestCase</a></li>
<li><a href="/doc/api/1.1/CWebTestCase">&nbsp;CWebTestCase</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.utils</span>
<ul>
<li><a href="/doc/api/1.1/CDateTimeParser">&nbsp;CDateTimeParser</a></li>
<li><a href="/doc/api/1.1/CFileHelper">&nbsp;CFileHelper</a></li>
<li><a href="/doc/api/1.1/CFormatter">&nbsp;CFormatter</a></li>
<li><a href="/doc/api/1.1/CLocalizedFormatter">&nbsp;CLocalizedFormatter</a></li>
<li><a href="/doc/api/1.1/CMarkdownParser">&nbsp;CMarkdownParser</a></li>
<li><a href="/doc/api/1.1/CPasswordHelper">&nbsp;CPasswordHelper</a></li>
<li><a href="/doc/api/1.1/CPropertyValue">&nbsp;CPropertyValue</a></li>
<li><a href="/doc/api/1.1/CTimestamp">&nbsp;CTimestamp</a></li>
<li><a href="/doc/api/1.1/CVarDumper">&nbsp;CVarDumper</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.validators</span>
<ul>
<li><a href="/doc/api/1.1/CBooleanValidator">&nbsp;CBooleanValidator</a></li>
<li><a href="/doc/api/1.1/CCaptchaValidator">&nbsp;CCaptchaValidator</a></li>
<li><a href="/doc/api/1.1/CCompareValidator">&nbsp;CCompareValidator</a></li>
<li><a href="/doc/api/1.1/CDateValidator">&nbsp;CDateValidator</a></li>
<li><a href="/doc/api/1.1/CDefaultValueValidator">&nbsp;CDefaultValueValidator</a></li>
<li><a href="/doc/api/1.1/CEmailValidator">&nbsp;CEmailValidator</a></li>
<li><a href="/doc/api/1.1/CExistValidator">&nbsp;CExistValidator</a></li>
<li><a href="/doc/api/1.1/CFileValidator">&nbsp;CFileValidator</a></li>
<li><a href="/doc/api/1.1/CFilterValidator">&nbsp;CFilterValidator</a></li>
<li><a href="/doc/api/1.1/CInlineValidator">&nbsp;CInlineValidator</a></li>
<li><a href="/doc/api/1.1/CNumberValidator">&nbsp;CNumberValidator</a></li>
<li><a href="/doc/api/1.1/CRangeValidator">&nbsp;CRangeValidator</a></li>
<li><a href="/doc/api/1.1/CRegularExpressionValidator">&nbsp;CRegularExpressionValidator</a></li>
<li><a href="/doc/api/1.1/CRequiredValidator">&nbsp;CRequiredValidator</a></li>
<li><a href="/doc/api/1.1/CSafeValidator">&nbsp;CSafeValidator</a></li>
<li><a href="/doc/api/1.1/CStringValidator">&nbsp;CStringValidator</a></li>
<li><a href="/doc/api/1.1/CTypeValidator">&nbsp;CTypeValidator</a></li>
<li><a href="/doc/api/1.1/CUniqueValidator">&nbsp;CUniqueValidator</a></li>
<li><a href="/doc/api/1.1/CUnsafeValidator">&nbsp;CUnsafeValidator</a></li>
<li><a href="/doc/api/1.1/CUrlValidator">&nbsp;CUrlValidator</a></li>
<li><a href="/doc/api/1.1/CValidator">&nbsp;CValidator</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web</span>
<ul>
<li><a href="/doc/api/1.1/CActiveDataProvider">&nbsp;CActiveDataProvider</a></li>
<li><a href="/doc/api/1.1/CArrayDataProvider">&nbsp;CArrayDataProvider</a></li>
<li><a href="/doc/api/1.1/CAssetManager">&nbsp;CAssetManager</a></li>
<li><a href="/doc/api/1.1/CBaseController">&nbsp;CBaseController</a></li>
<li><a href="/doc/api/1.1/CBaseUrlRule">&nbsp;CBaseUrlRule</a></li>
<li><a href="/doc/api/1.1/CCacheHttpSession">&nbsp;CCacheHttpSession</a></li>
<li><a href="/doc/api/1.1/CClientScript">&nbsp;CClientScript</a></li>
<li><a href="/doc/api/1.1/CController">&nbsp;CController</a></li>
<li><a href="/doc/api/1.1/CCookieCollection">&nbsp;CCookieCollection</a></li>
<li><a href="/doc/api/1.1/CDataProvider">&nbsp;CDataProvider</a></li>
<li><a href="/doc/api/1.1/CDataProviderIterator">&nbsp;CDataProviderIterator</a></li>
<li><a href="/doc/api/1.1/CDbHttpSession">&nbsp;CDbHttpSession</a></li>
<li><a href="/doc/api/1.1/CExtController">&nbsp;CExtController</a></li>
<li><a href="/doc/api/1.1/CFormModel">&nbsp;CFormModel</a></li>
<li><a href="/doc/api/1.1/CHttpCookie">&nbsp;CHttpCookie</a></li>
<li><a href="/doc/api/1.1/CHttpRequest">&nbsp;CHttpRequest</a></li>
<li><a href="/doc/api/1.1/CHttpSession">&nbsp;CHttpSession</a></li>
<li><a href="/doc/api/1.1/CHttpSessionIterator">&nbsp;CHttpSessionIterator</a></li>
<li><a href="/doc/api/1.1/COutputEvent">&nbsp;COutputEvent</a></li>
<li><a href="/doc/api/1.1/CPagination">&nbsp;CPagination</a></li>
<li><a href="/doc/api/1.1/CSort">&nbsp;CSort</a></li>
<li><a href="/doc/api/1.1/CSqlDataProvider">&nbsp;CSqlDataProvider</a></li>
<li><a href="/doc/api/1.1/CTheme">&nbsp;CTheme</a></li>
<li><a href="/doc/api/1.1/CThemeManager">&nbsp;CThemeManager</a></li>
<li><a href="/doc/api/1.1/CUploadedFile">&nbsp;CUploadedFile</a></li>
<li><a href="/doc/api/1.1/CUrlManager">&nbsp;CUrlManager</a></li>
<li><a href="/doc/api/1.1/CUrlRule">&nbsp;CUrlRule</a></li>
<li><a href="/doc/api/1.1/CWebApplication">&nbsp;CWebApplication</a></li>
<li><a href="/doc/api/1.1/CWebModule">&nbsp;CWebModule</a></li>
<li><a href="/doc/api/1.1/CWidgetFactory">&nbsp;CWidgetFactory</a></li>
<li><a href="/doc/api/1.1/IDataProvider">&nbsp;IDataProvider</a></li>
<li><a href="/doc/api/1.1/IWidgetFactory">&nbsp;IWidgetFactory</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.actions</span>
<ul>
<li><a href="/doc/api/1.1/CAction">&nbsp;CAction</a></li>
<li><a href="/doc/api/1.1/CInlineAction">&nbsp;CInlineAction</a></li>
<li><a href="/doc/api/1.1/CViewAction">&nbsp;CViewAction</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.auth</span>
<ul>
<li><a href="/doc/api/1.1/CAccessControlFilter">&nbsp;CAccessControlFilter</a></li>
<li><a href="/doc/api/1.1/CAccessRule">&nbsp;CAccessRule</a></li>
<li><a href="/doc/api/1.1/CAuthAssignment">&nbsp;CAuthAssignment</a></li>
<li><a href="/doc/api/1.1/CAuthItem">&nbsp;CAuthItem</a></li>
<li><a href="/doc/api/1.1/CAuthManager">&nbsp;CAuthManager</a></li>
<li><a href="/doc/api/1.1/CBaseUserIdentity">&nbsp;CBaseUserIdentity</a></li>
<li><a href="/doc/api/1.1/CDbAuthManager">&nbsp;CDbAuthManager</a></li>
<li><a href="/doc/api/1.1/CPhpAuthManager">&nbsp;CPhpAuthManager</a></li>
<li><a href="/doc/api/1.1/CUserIdentity">&nbsp;CUserIdentity</a></li>
<li><a href="/doc/api/1.1/CWebUser">&nbsp;CWebUser</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.filters</span>
<ul>
<li><a href="/doc/api/1.1/CFilter">&nbsp;CFilter</a></li>
<li><a href="/doc/api/1.1/CFilterChain">&nbsp;CFilterChain</a></li>
<li><a href="/doc/api/1.1/CHttpCacheFilter">&nbsp;CHttpCacheFilter</a></li>
<li><a href="/doc/api/1.1/CInlineFilter">&nbsp;CInlineFilter</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.form</span>
<ul>
<li><a href="/doc/api/1.1/CForm">&nbsp;CForm</a></li>
<li><a href="/doc/api/1.1/CFormButtonElement">&nbsp;CFormButtonElement</a></li>
<li><a href="/doc/api/1.1/CFormElement">&nbsp;CFormElement</a></li>
<li><a href="/doc/api/1.1/CFormElementCollection">&nbsp;CFormElementCollection</a></li>
<li><a href="/doc/api/1.1/CFormInputElement">&nbsp;CFormInputElement</a></li>
<li><a href="/doc/api/1.1/CFormStringElement">&nbsp;CFormStringElement</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.helpers</span>
<ul>
<li><a href="/doc/api/1.1/CGoogleApi">&nbsp;CGoogleApi</a></li>
<li><a href="/doc/api/1.1/CHtml">&nbsp;CHtml</a></li>
<li><a href="/doc/api/1.1/CJSON">&nbsp;CJSON</a></li>
<li><a href="/doc/api/1.1/CJavaScript">&nbsp;CJavaScript</a></li>
<li><a href="/doc/api/1.1/CJavaScriptExpression">&nbsp;CJavaScriptExpression</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.renderers</span>
<ul>
<li><a href="/doc/api/1.1/CPradoViewRenderer">&nbsp;CPradoViewRenderer</a></li>
<li><a href="/doc/api/1.1/CViewRenderer">&nbsp;CViewRenderer</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.services</span>
<ul>
<li><a href="/doc/api/1.1/CDocumentSoapObjectWrapper">&nbsp;CDocumentSoapObjectWrapper</a></li>
<li><a href="/doc/api/1.1/CSoapObjectWrapper">&nbsp;CSoapObjectWrapper</a></li>
<li><a href="/doc/api/1.1/CWebService">&nbsp;CWebService</a></li>
<li><a href="/doc/api/1.1/CWebServiceAction">&nbsp;CWebServiceAction</a></li>
<li><a href="/doc/api/1.1/CWsdlGenerator">&nbsp;CWsdlGenerator</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.widgets</span>
<ul>
<li><a href="/doc/api/1.1/CActiveForm">&nbsp;CActiveForm</a></li>
<li><a href="/doc/api/1.1/CAutoComplete">&nbsp;CAutoComplete</a></li>
<li><a href="/doc/api/1.1/CClipWidget">&nbsp;CClipWidget</a></li>
<li><a href="/doc/api/1.1/CContentDecorator">&nbsp;CContentDecorator</a></li>
<li><a href="/doc/api/1.1/CFilterWidget">&nbsp;CFilterWidget</a></li>
<li><a href="/doc/api/1.1/CFlexWidget">&nbsp;CFlexWidget</a></li>
<li><a href="/doc/api/1.1/CHtmlPurifier">&nbsp;CHtmlPurifier</a></li>
<li><a href="/doc/api/1.1/CInputWidget">&nbsp;CInputWidget</a></li>
<li><a href="/doc/api/1.1/CMarkdown">&nbsp;CMarkdown</a></li>
<li><a href="/doc/api/1.1/CMaskedTextField">&nbsp;CMaskedTextField</a></li>
<li><a href="/doc/api/1.1/CMultiFileUpload">&nbsp;CMultiFileUpload</a></li>
<li><a href="/doc/api/1.1/COutputCache">&nbsp;COutputCache</a></li>
<li><a href="/doc/api/1.1/COutputProcessor">&nbsp;COutputProcessor</a></li>
<li><a href="/doc/api/1.1/CStarRating">&nbsp;CStarRating</a></li>
<li><a href="/doc/api/1.1/CTabView">&nbsp;CTabView</a></li>
<li><a href="/doc/api/1.1/CTextHighlighter">&nbsp;CTextHighlighter</a></li>
<li><a href="/doc/api/1.1/CTreeView">&nbsp;CTreeView</a></li>
<li><a href="/doc/api/1.1/CWidget">&nbsp;CWidget</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.widgets.captcha</span>
<ul>
<li><a href="/doc/api/1.1/CCaptcha">&nbsp;CCaptcha</a></li>
<li><a href="/doc/api/1.1/CCaptchaAction">&nbsp;CCaptchaAction</a></li>
</ul>
</li>
<li class="closed"><span class="folder">system.web.widgets.pagers</span>
<ul>
<li><a href="/doc/api/1.1/CBasePager">&nbsp;CBasePager</a></li>
<li><a href="/doc/api/1.1/CLinkPager">&nbsp;CLinkPager</a></li>
<li><a href="/doc/api/1.1/CListPager">&nbsp;CListPager</a></li>
</ul>
</li>
<li class="closed"><span class="folder">zii.behaviors</span>
<ul>
<li><a href="/doc/api/1.1/CTimestampBehavior">&nbsp;CTimestampBehavior</a></li>
</ul>
</li>
<li class="closed"><span class="folder">zii.widgets</span>
<ul>
<li><a href="/doc/api/1.1/CBaseListView">&nbsp;CBaseListView</a></li>
<li><a href="/doc/api/1.1/CBreadcrumbs">&nbsp;CBreadcrumbs</a></li>
<li><a href="/doc/api/1.1/CDetailView">&nbsp;CDetailView</a></li>
<li><a href="/doc/api/1.1/CListView">&nbsp;CListView</a></li>
<li><a href="/doc/api/1.1/CMenu">&nbsp;CMenu</a></li>
<li><a href="/doc/api/1.1/CPortlet">&nbsp;CPortlet</a></li>
</ul>
</li>
<li class="closed"><span class="folder">zii.widgets.grid</span>
<ul>
<li><a href="/doc/api/1.1/CButtonColumn">&nbsp;CButtonColumn</a></li>
<li><a href="/doc/api/1.1/CCheckBoxColumn">&nbsp;CCheckBoxColumn</a></li>
<li><a href="/doc/api/1.1/CDataColumn">&nbsp;CDataColumn</a></li>
<li><a href="/doc/api/1.1/CGridColumn">&nbsp;CGridColumn</a></li>
<li><a href="/doc/api/1.1/CGridView">&nbsp;CGridView</a></li>
<li><a href="/doc/api/1.1/CLinkColumn">&nbsp;CLinkColumn</a></li>
</ul>
</li>
<li class="closed"><span class="folder">zii.widgets.jui</span>
<ul>
<li><a href="/doc/api/1.1/CJuiAccordion">&nbsp;CJuiAccordion</a></li>
<li><a href="/doc/api/1.1/CJuiAutoComplete">&nbsp;CJuiAutoComplete</a></li>
<li><a href="/doc/api/1.1/CJuiButton">&nbsp;CJuiButton</a></li>
<li><a href="/doc/api/1.1/CJuiDatePicker">&nbsp;CJuiDatePicker</a></li>
<li><a href="/doc/api/1.1/CJuiDialog">&nbsp;CJuiDialog</a></li>
<li><a href="/doc/api/1.1/CJuiDraggable">&nbsp;CJuiDraggable</a></li>
<li><a href="/doc/api/1.1/CJuiDroppable">&nbsp;CJuiDroppable</a></li>
<li><a href="/doc/api/1.1/CJuiInputWidget">&nbsp;CJuiInputWidget</a></li>
<li><a href="/doc/api/1.1/CJuiProgressBar">&nbsp;CJuiProgressBar</a></li>
<li><a href="/doc/api/1.1/CJuiResizable">&nbsp;CJuiResizable</a></li>
<li><a href="/doc/api/1.1/CJuiSelectable">&nbsp;CJuiSelectable</a></li>
<li><a href="/doc/api/1.1/CJuiSlider">&nbsp;CJuiSlider</a></li>
<li><a href="/doc/api/1.1/CJuiSliderInput">&nbsp;CJuiSliderInput</a></li>
<li><a href="/doc/api/1.1/CJuiSortable">&nbsp;CJuiSortable</a></li>
<li><a href="/doc/api/1.1/CJuiTabs">&nbsp;CJuiTabs</a></li>
<li><a href="/doc/api/1.1/CJuiWidget">&nbsp;CJuiWidget</a></li>
</ul>
</li>
</ul>	<div class="google-ad2" style="margin: 20px 0 0 40px; display: none;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3732587985864947";
google_ad_slot = "4362140756";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div>
    </div>
    <div class="grid_9 content omega">

    	<div class="api-suggest clearfix">
	<strong>Look up a class, method, property or event</strong>
	<input class="keyword g-text" id="keyword" type="text" value="" name="keyword" />    <input type="submit" value="Go" class="btn btn-info submit-button" /></div>

    	<h1>CDbCriteria</h1>
<div id="nav">
<a href="/doc/api/1.1/">All Packages</a>
| <a href="#properties">Properties</a>
| <a href="#methods">Methods</a>
</div>

<table class="summaryTable docClass">
<colgroup>
	<col class="col-name" />
	<col class="col-value" />
</colgroup>
<tr>
  <th>Package</th>
  <td><a href="/doc/api/1.1/#system.db.schema">system.db.schema</a></td>
</tr>
<tr>
  <th>Inheritance</th>
  <td>class CDbCriteria &raquo;
<a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr>
  <th>Since</th>
  <td>1.0</td>
</tr>
<tr>
  <th>Source Code</th>
  <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php">framework/db/schema/CDbCriteria.php</a></td>
</tr>
</table>

<div class="google-ad" style="position: absolute; top: 250px;">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3732587985864947";
google_ad_slot = "6988439380";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div><div id="classDescription">
CDbCriteria represents a query criteria, such as conditions, ordering by, limit/offset.
<br/><br/>
It can be used in AR query methods such as CActiveRecord::find and CActiveRecord::findAll.
<br/><br/>
$criteria=new CDbCriteria();
$criteria->compare('status',Post::STATUS_ACTIVE);
$criteria->addInCondition('id',array(1,2,3,4,5,6));
<br/><br/>
$posts = Post::model()->findAll($criteria);</div>
<a name="properties"></a>

<div class="summary docProperty">
<h2>Public Properties</h2>

<p><a href="#" class="toggle">Hide inherited properties</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-property" />
	<col class="col-type" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Property</th><th>Type</th><th>Description</th><th>Defined By</th>
</tr>
<tr id="alias">
  <td><a href="/doc/api/1.1/CDbCriteria#alias-detail">alias</a></td>
  <td>string</td>
  <td>the alias name of the table.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="condition">
  <td><a href="/doc/api/1.1/CDbCriteria#condition-detail">condition</a></td>
  <td>string</td>
  <td>query condition.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="distinct">
  <td><a href="/doc/api/1.1/CDbCriteria#distinct-detail">distinct</a></td>
  <td>boolean</td>
  <td>whether to select distinct rows of data only.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="group">
  <td><a href="/doc/api/1.1/CDbCriteria#group-detail">group</a></td>
  <td>string</td>
  <td>how to group the query results.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="having">
  <td><a href="/doc/api/1.1/CDbCriteria#having-detail">having</a></td>
  <td>string</td>
  <td>the condition to be applied with GROUP-BY clause.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="index">
  <td><a href="/doc/api/1.1/CDbCriteria#index-detail">index</a></td>
  <td>string</td>
  <td>the name of the AR attribute whose value should be used as index of the query result array.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="join">
  <td><a href="/doc/api/1.1/CDbCriteria#join-detail">join</a></td>
  <td>string</td>
  <td>how to join with other tables.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="limit">
  <td><a href="/doc/api/1.1/CDbCriteria#limit-detail">limit</a></td>
  <td>integer</td>
  <td>maximum number of records to be returned.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="offset">
  <td><a href="/doc/api/1.1/CDbCriteria#offset-detail">offset</a></td>
  <td>integer</td>
  <td>zero-based offset from where the records are to be returned.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="order">
  <td><a href="/doc/api/1.1/CDbCriteria#order-detail">order</a></td>
  <td>string</td>
  <td>how to sort the query results.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="paramCount">
  <td><a href="/doc/api/1.1/CDbCriteria#paramCount-detail">paramCount</a></td>
  <td>integer</td>
  <td>the global counter for anonymous binding parameters.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="params">
  <td><a href="/doc/api/1.1/CDbCriteria#params-detail">params</a></td>
  <td>array</td>
  <td>list of query parameter values indexed by parameter placeholders.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="scopes">
  <td><a href="/doc/api/1.1/CDbCriteria#scopes-detail">scopes</a></td>
  <td>mixed</td>
  <td>scopes to apply
<br/><br/>
This property is effective only when passing criteria to
the one of the following methods:
<ul>
<li><a href="/doc/api/1.1/CActiveRecord#find">CActiveRecord::find()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findAll">CActiveRecord::findAll()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findByPk">CActiveRecord::findByPk()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findAllByPk">CActiveRecord::findAllByPk()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findByAttributes">CActiveRecord::findByAttributes()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findAllByAttributes">CActiveRecord::findAllByAttributes()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#count">CActiveRecord::count()</a></li>
</ul>
<br/><br/>
Can be set to one of the following:
<ul>
<li>One scope: $criteria->scopes='scopeName';</li>
<li>Multiple scopes: $criteria->scopes=array('scopeName1','scopeName2');</li>
<li>Scope with parameters: $criteria->scopes=array('scopeName'=>array($params));</li>
<li>Multiple scopes with parameters: $criteria->scopes=array('scopeName1'=>array($params1),'scopeName2'=>array($params2));</li>
<li>Multiple scopes with the same name: array(array('scopeName'=>array($params1)),array('scopeName'=>array($params2)));</li>
</ul></td>
  <td>CDbCriteria</td>
</tr>
<tr id="select">
  <td><a href="/doc/api/1.1/CDbCriteria#select-detail">select</a></td>
  <td>mixed</td>
  <td>the columns being selected.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="together">
  <td><a href="/doc/api/1.1/CDbCriteria#together-detail">together</a></td>
  <td>boolean</td>
  <td>whether the foreign tables should be joined with the primary table in a single SQL.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="with">
  <td><a href="/doc/api/1.1/CDbCriteria#with-detail">with</a></td>
  <td>mixed</td>
  <td>the relational query criteria.</td>
  <td>CDbCriteria</td>
</tr>
</table>
</div>
<a name="methods"></a>

<div class="summary docMethod">
<h2>Public Methods</h2>

<p><a href="#" class="toggle">Hide inherited methods</a></p>

<table class="summaryTable">
<colgroup>
	<col class="col-method" />
	<col class="col-description" />
	<col class="col-defined" />
</colgroup>
<tr>
  <th>Method</th><th>Description</th><th>Defined By</th>
</tr>
<tr class="inherited" id="__call">
  <td><a href="/doc/api/1.1/CComponent#__call-detail">__call()</a></td>
  <td>Calls the named method which is not a class method.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr id="__construct">
  <td><a href="/doc/api/1.1/CDbCriteria#__construct-detail">__construct()</a></td>
  <td>Constructor.</td>
  <td>CDbCriteria</td>
</tr>
<tr class="inherited" id="__get">
  <td><a href="/doc/api/1.1/CComponent#__get-detail">__get()</a></td>
  <td>Returns a property value, an event handler list or a behavior based on its name.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="__isset">
  <td><a href="/doc/api/1.1/CComponent#__isset-detail">__isset()</a></td>
  <td>Checks if a property value is null.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="__set">
  <td><a href="/doc/api/1.1/CComponent#__set-detail">__set()</a></td>
  <td>Sets value of a component property.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="__unset">
  <td><a href="/doc/api/1.1/CComponent#__unset-detail">__unset()</a></td>
  <td>Sets a component property to be null.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr id="__wakeup">
  <td><a href="/doc/api/1.1/CDbCriteria#__wakeup-detail">__wakeup()</a></td>
  <td>Remaps criteria parameters on unserialize to prevent name collisions.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="addBetweenCondition">
  <td><a href="/doc/api/1.1/CDbCriteria#addBetweenCondition-detail">addBetweenCondition()</a></td>
  <td>Adds a between condition to the <a href="/doc/api/1.1/CDbCriteria#condition">condition</a> property.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="addColumnCondition">
  <td><a href="/doc/api/1.1/CDbCriteria#addColumnCondition-detail">addColumnCondition()</a></td>
  <td>Appends a condition for matching the given list of column values.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="addCondition">
  <td><a href="/doc/api/1.1/CDbCriteria#addCondition-detail">addCondition()</a></td>
  <td>Appends a condition to the existing <a href="/doc/api/1.1/CDbCriteria#condition">condition</a>.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="addInCondition">
  <td><a href="/doc/api/1.1/CDbCriteria#addInCondition-detail">addInCondition()</a></td>
  <td>Appends an IN condition to the existing <a href="/doc/api/1.1/CDbCriteria#condition">condition</a>.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="addNotInCondition">
  <td><a href="/doc/api/1.1/CDbCriteria#addNotInCondition-detail">addNotInCondition()</a></td>
  <td>Appends an NOT IN condition to the existing <a href="/doc/api/1.1/CDbCriteria#condition">condition</a>.</td>
  <td>CDbCriteria</td>
</tr>
<tr id="addSearchCondition">
  <td><a href="/doc/api/1.1/CDbCriteria#addSearchCondition-detail">addSearchCondition()</a></td>
  <td>Appends a search condition to the existing <a href="/doc/api/1.1/CDbCriteria#condition">condition</a>.</td>
  <td>CDbCriteria</td>
</tr>
<tr class="inherited" id="asa">
  <td><a href="/doc/api/1.1/CComponent#asa-detail">asa()</a></td>
  <td>Returns the named behavior object.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="attachBehavior">
  <td><a href="/doc/api/1.1/CComponent#attachBehavior-detail">attachBehavior()</a></td>
  <td>Attaches a behavior to this component.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="attachBehaviors">
  <td><a href="/doc/api/1.1/CComponent#attachBehaviors-detail">attachBehaviors()</a></td>
  <td>Attaches a list of behaviors to the component.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="attachEventHandler">
  <td><a href="/doc/api/1.1/CComponent#attachEventHandler-detail">attachEventHandler()</a></td>
  <td>Attaches an event handler to an event.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="canGetProperty">
  <td><a href="/doc/api/1.1/CComponent#canGetProperty-detail">canGetProperty()</a></td>
  <td>Determines whether a property can be read.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="canSetProperty">
  <td><a href="/doc/api/1.1/CComponent#canSetProperty-detail">canSetProperty()</a></td>
  <td>Determines whether a property can be set.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr id="compare">
  <td><a href="/doc/api/1.1/CDbCriteria#compare-detail">compare()</a></td>
  <td>Adds a comparison expression to the <a href="/doc/api/1.1/CDbCriteria#condition">condition</a> property.</td>
  <td>CDbCriteria</td>
</tr>
<tr class="inherited" id="detachBehavior">
  <td><a href="/doc/api/1.1/CComponent#detachBehavior-detail">detachBehavior()</a></td>
  <td>Detaches a behavior from the component.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="detachBehaviors">
  <td><a href="/doc/api/1.1/CComponent#detachBehaviors-detail">detachBehaviors()</a></td>
  <td>Detaches all behaviors from the component.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="detachEventHandler">
  <td><a href="/doc/api/1.1/CComponent#detachEventHandler-detail">detachEventHandler()</a></td>
  <td>Detaches an existing event handler.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="disableBehavior">
  <td><a href="/doc/api/1.1/CComponent#disableBehavior-detail">disableBehavior()</a></td>
  <td>Disables an attached behavior.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="disableBehaviors">
  <td><a href="/doc/api/1.1/CComponent#disableBehaviors-detail">disableBehaviors()</a></td>
  <td>Disables all behaviors attached to this component.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="enableBehavior">
  <td><a href="/doc/api/1.1/CComponent#enableBehavior-detail">enableBehavior()</a></td>
  <td>Enables an attached behavior.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="enableBehaviors">
  <td><a href="/doc/api/1.1/CComponent#enableBehaviors-detail">enableBehaviors()</a></td>
  <td>Enables all behaviors attached to this component.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="evaluateExpression">
  <td><a href="/doc/api/1.1/CComponent#evaluateExpression-detail">evaluateExpression()</a></td>
  <td>Evaluates a PHP expression or callback under the context of this component.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="getEventHandlers">
  <td><a href="/doc/api/1.1/CComponent#getEventHandlers-detail">getEventHandlers()</a></td>
  <td>Returns the list of attached event handlers for an event.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="hasEvent">
  <td><a href="/doc/api/1.1/CComponent#hasEvent-detail">hasEvent()</a></td>
  <td>Determines whether an event is defined.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="hasEventHandler">
  <td><a href="/doc/api/1.1/CComponent#hasEventHandler-detail">hasEventHandler()</a></td>
  <td>Checks whether the named event has attached handlers.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr class="inherited" id="hasProperty">
  <td><a href="/doc/api/1.1/CComponent#hasProperty-detail">hasProperty()</a></td>
  <td>Determines whether a property is defined.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr id="mergeWith">
  <td><a href="/doc/api/1.1/CDbCriteria#mergeWith-detail">mergeWith()</a></td>
  <td>Merges with another criteria.</td>
  <td>CDbCriteria</td>
</tr>
<tr class="inherited" id="raiseEvent">
  <td><a href="/doc/api/1.1/CComponent#raiseEvent-detail">raiseEvent()</a></td>
  <td>Raises an event.</td>
  <td><a href="/doc/api/1.1/CComponent">CComponent</a></td>
</tr>
<tr id="toArray">
  <td><a href="/doc/api/1.1/CDbCriteria#toArray-detail">toArray()</a></td>
  <td></td>
  <td>CDbCriteria</td>
</tr>
</table>
</div>
<a name="events"></a>

<h2>Property Details</h2>
<div class="detailHeader" id="alias-detail">
alias<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$alias</b>;</div>

<p>the alias name of the table. If not set, it means the alias is 't'.</p>


<div class="detailHeader" id="condition-detail">
condition<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$condition</b>;</div>

<p>query condition. This refers to the WHERE clause in an SQL statement.
For example, <code>age>31 AND team=1</code>.</p>


<div class="detailHeader" id="distinct-detail">
distinct<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public boolean <b>$distinct</b>;</div>

<p>whether to select distinct rows of data only. If this is set true,
the SELECT clause would be changed to SELECT DISTINCT.</p>


<div class="detailHeader" id="group-detail">
group<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$group</b>;</div>

<p>how to group the query results. This refers to the GROUP BY clause in an SQL statement.
For example, <code>'projectID, teamID'</code>.</p>


<div class="detailHeader" id="having-detail">
having<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$having</b>;</div>

<p>the condition to be applied with GROUP-BY clause.
For example, <code>'SUM(revenue)<50000'</code>.</p>


<div class="detailHeader" id="index-detail">
index<span class="detailHeaderTag">
property
 (available since v1.1.5)
</span>
</div>

<div class="signature">
public string <b>$index</b>;</div>

<p>the name of the AR attribute whose value should be used as index of the query result array.
Defaults to null, meaning the result array will be zero-based integers.</p>


<div class="detailHeader" id="join-detail">
join<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$join</b>;</div>

<p>how to join with other tables. This refers to the JOIN clause in an SQL statement.
For example, <code>'LEFT JOIN users ON users.id=authorID'</code>.</p>


<div class="detailHeader" id="limit-detail">
limit<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public integer <b>$limit</b>;</div>

<p>maximum number of records to be returned. If less than 0, it means no limit.</p>


<div class="detailHeader" id="offset-detail">
offset<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public integer <b>$offset</b>;</div>

<p>zero-based offset from where the records are to be returned. If less than 0, it means starting from the beginning.</p>


<div class="detailHeader" id="order-detail">
order<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public string <b>$order</b>;</div>

<p>how to sort the query results. This refers to the ORDER BY clause in an SQL statement.</p>


<div class="detailHeader" id="paramCount-detail">
paramCount<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public static integer <b>$paramCount</b>;</div>

<p>the global counter for anonymous binding parameters.
This counter is used for generating the name for the anonymous parameters.</p>


<div class="detailHeader" id="params-detail">
params<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public array <b>$params</b>;</div>

<p>list of query parameter values indexed by parameter placeholders.
For example, <code>array(':name'=>'Dan', ':age'=>31)</code>.</p>


<div class="detailHeader" id="scopes-detail">
scopes<span class="detailHeaderTag">
property
 (available since v1.1.7)
</span>
</div>

<div class="signature">
public mixed <b>$scopes</b>;</div>

<p>scopes to apply
<br/><br/>
This property is effective only when passing criteria to
the one of the following methods:
<ul>
<li><a href="/doc/api/1.1/CActiveRecord#find">CActiveRecord::find()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findAll">CActiveRecord::findAll()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findByPk">CActiveRecord::findByPk()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findAllByPk">CActiveRecord::findAllByPk()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findByAttributes">CActiveRecord::findByAttributes()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findAllByAttributes">CActiveRecord::findAllByAttributes()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#count">CActiveRecord::count()</a></li>
</ul>
<br/><br/>
Can be set to one of the following:
<ul>
<li>One scope: $criteria->scopes='scopeName';</li>
<li>Multiple scopes: $criteria->scopes=array('scopeName1','scopeName2');</li>
<li>Scope with parameters: $criteria->scopes=array('scopeName'=>array($params));</li>
<li>Multiple scopes with parameters: $criteria->scopes=array('scopeName1'=>array($params1),'scopeName2'=>array($params2));</li>
<li>Multiple scopes with the same name: array(array('scopeName'=>array($params1)),array('scopeName'=>array($params2)));</li>
</ul></p>


<div class="detailHeader" id="select-detail">
select<span class="detailHeaderTag">
property
</span>
</div>

<div class="signature">
public mixed <b>$select</b>;</div>

<p>the columns being selected. This refers to the SELECT clause in an SQL
statement. The property can be either a string (column names separated by commas)
or an array of column names. Defaults to '*', meaning all columns.</p>


<div class="detailHeader" id="together-detail">
together<span class="detailHeaderTag">
property
 (available since v1.1.4)
</span>
</div>

<div class="signature">
public boolean <b>$together</b>;</div>

<p>whether the foreign tables should be joined with the primary table in a single SQL.
This property is only used in relational AR queries for HAS_MANY and MANY_MANY relations.
<br/><br/>
When this property is set true, only a single SQL will be executed for a relational AR query,
even if the primary table is limited and the relationship between a foreign table and the primary
table is many-to-one.
<br/><br/>
When this property is set false, a SQL statement will be executed for each HAS_MANY relation.
<br/><br/>
When this property is not set, if the primary table is limited or paginated,
a SQL statement will be executed for each HAS_MANY relation.
Otherwise, a single SQL statement will be executed for all.</p>


<div class="detailHeader" id="with-detail">
with<span class="detailHeaderTag">
property
 (available since v1.1.0)
</span>
</div>

<div class="signature">
public mixed <b>$with</b>;</div>

<p>the relational query criteria. This is used for fetching related objects in eager loading fashion.
This property is effective only when the criteria is passed as a parameter to the following methods of CActiveRecord:
<ul>
<li><a href="/doc/api/1.1/CActiveRecord#find">CActiveRecord::find()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findAll">CActiveRecord::findAll()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findByPk">CActiveRecord::findByPk()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findAllByPk">CActiveRecord::findAllByPk()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findByAttributes">CActiveRecord::findByAttributes()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#findAllByAttributes">CActiveRecord::findAllByAttributes()</a></li>
<li><a href="/doc/api/1.1/CActiveRecord#count">CActiveRecord::count()</a></li>
</ul>
The property value will be used as the parameter to the <a href="/doc/api/1.1/CActiveRecord#with">CActiveRecord::with()</a> method
to perform the eager loading. Please refer to <a href="/doc/api/1.1/CActiveRecord#with">CActiveRecord::with()</a> on how to specify this parameter.</p>


<h2>Method Details</h2>

<div class="detailHeader" id="__construct-detail">
__construct()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public void <b>__construct</b>(array $data=array (
))</div>
</td></tr>
<tr>
  <td class="paramNameCol">$data</td>
  <td class="paramTypeCol">array</td>
  <td class="paramDescCol">criteria initial property values (indexed by property name)</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L157">framework/db/schema/CDbCriteria.php#157</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">=array())<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />}</span>
</span>
</code></div>
</div>
<p>Constructor.</p>


<div class="detailHeader" id="__wakeup-detail">
__wakeup()
<span class="detailHeaderTag">
method
(available since v1.1.9)
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public void <b>__wakeup</b>()</div>
</td></tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L167">framework/db/schema/CDbCriteria.php#167</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__wakeup</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$map</span><span style="color: #007700">=array();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">=array();<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">)===</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$newName</span><span style="color: #007700">=</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$map</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #0000BB">$newName</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$newName</span><span style="color: #007700">=</span><span style="color: #0000BB">$name</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$newName</span><span style="color: #007700">]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!empty(</span><span style="color: #0000BB">$map</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$sqlContentFieldNames</span><span style="color: #007700">=array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'select'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'condition'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'order'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'group'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'join'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'having'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$sqlContentFieldNames&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$field</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$field</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$field&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$k</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">$field</span><span style="color: #007700">}[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]=</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$v</span><span style="color: #007700">,</span><span style="color: #0000BB">$map</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$field</span><span style="color: #007700">=</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$field</span><span style="color: #007700">,</span><span style="color: #0000BB">$map</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">=</span><span style="color: #0000BB">$params</span><span style="color: #007700">;<br />}</span>
</span>
</code></div>
</div>
<p>Remaps criteria parameters on unserialize to prevent name collisions.</p>


<div class="detailHeader" id="addBetweenCondition-detail">
addBetweenCondition()
<span class="detailHeaderTag">
method
(available since v1.1.2)
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public static <b>addBetweenCondition</b>(string $column, string $valueStart, string $valueEnd, string $operator='AND')</div>
</td></tr>
<tr>
  <td class="paramNameCol">$column</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the name of the column to search between.</td>
</tr>
<tr>
  <td class="paramNameCol">$valueStart</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the beginning value to start the between search.</td>
</tr>
<tr>
  <td class="paramNameCol">$valueEnd</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the ending value to end the between search.</td>
</tr>
<tr>
  <td class="paramNameCol">$operator</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the operator used to concatenate the new condition with the existing one.
Defaults to 'AND'.</td>
</tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">static</td>
  <td class="paramDescCol">the criteria object itself</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L468">framework/db/schema/CDbCriteria.php#468</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">addBetweenCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">,</span><span style="color: #0000BB">$valueStart</span><span style="color: #007700">,</span><span style="color: #0000BB">$valueEnd</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">=</span><span style="color: #DD0000">'AND'</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$valueStart</span><span style="color: #007700">===</span><span style="color: #DD0000">''&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$valueEnd</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$paramStart</span><span style="color: #007700">=</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$paramEnd</span><span style="color: #007700">=</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">$paramStart</span><span style="color: #007700">]=</span><span style="color: #0000BB">$valueStart</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">$paramEnd</span><span style="color: #007700">]=</span><span style="color: #0000BB">$valueEnd</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$column</span><span style="color: #DD0000">&nbsp;BETWEEN&nbsp;</span><span style="color: #0000BB">$paramStart</span><span style="color: #DD0000">&nbsp;AND&nbsp;</span><span style="color: #0000BB">$paramEnd</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">);<br />}</span>
</span>
</code></div>
</div>
<p>Adds a between condition to the <a href="/doc/api/1.1/CDbCriteria#condition">condition</a> property.
<br/><br/>
The new between condition and the existing condition will be concatenated via
the specified operator which defaults to 'AND'.
If one or both values are empty then the condition is not added to the existing condition.
This method handles the case when the existing condition is empty.
After calling this method, the <a href="/doc/api/1.1/CDbCriteria#condition">condition</a> property will be modified.</p>


<div class="detailHeader" id="addColumnCondition-detail">
addColumnCondition()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public static <b>addColumnCondition</b>(array $columns, string $columnOperator='AND', string $operator='AND')</div>
</td></tr>
<tr>
  <td class="paramNameCol">$columns</td>
  <td class="paramTypeCol">array</td>
  <td class="paramDescCol">list of column names and values to be matched (name=>value)</td>
</tr>
<tr>
  <td class="paramNameCol">$columnOperator</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the operator to concatenate multiple column matching condition. Defaults to 'AND'.</td>
</tr>
<tr>
  <td class="paramNameCol">$operator</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the operator used to concatenate the new condition with the existing one.
Defaults to 'AND'.</td>
</tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">static</td>
  <td class="paramDescCol">the criteria object itself</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L354">framework/db/schema/CDbCriteria.php#354</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">addColumnCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$columns</span><span style="color: #007700">,</span><span style="color: #0000BB">$columnOperator</span><span style="color: #007700">=</span><span style="color: #DD0000">'AND'</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">=</span><span style="color: #DD0000">'AND'</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">=array();<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$columns&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$value</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;IS&nbsp;NULL'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'='</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">"&nbsp;</span><span style="color: #0000BB">$columnOperator</span><span style="color: #DD0000">&nbsp;"</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$operator</span><span style="color: #007700">);<br />}</span>
</span>
</code></div>
</div>
<p>Appends a condition for matching the given list of column values.
The generated condition will be concatenated to the existing <a href="/doc/api/1.1/CDbCriteria#condition">condition</a>
via the specified operator which defaults to 'AND'.
The condition is generated by matching each column and the corresponding value.</p>


<div class="detailHeader" id="addCondition-detail">
addCondition()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public static <b>addCondition</b>(mixed $condition, string $operator='AND')</div>
</td></tr>
<tr>
  <td class="paramNameCol">$condition</td>
  <td class="paramTypeCol">mixed</td>
  <td class="paramDescCol">the new condition. It can be either a string or an array of strings.</td>
</tr>
<tr>
  <td class="paramNameCol">$operator</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the operator to join different conditions. Defaults to 'AND'.</td>
</tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">static</td>
  <td class="paramDescCol">the criteria object itself</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L218">framework/db/schema/CDbCriteria.php#218</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">addCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">=</span><span style="color: #DD0000">'AND'</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">===array())<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #DD0000">'('</span><span style="color: #007700">.</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">')&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$operator</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;('</span><span style="color: #007700">,</span><span style="color: #0000BB">$condition</span><span style="color: #007700">).</span><span style="color: #DD0000">')'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">=</span><span style="color: #0000BB">$condition</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">=</span><span style="color: #DD0000">'('</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">.</span><span style="color: #DD0000">')&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$operator</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;('</span><span style="color: #007700">.</span><span style="color: #0000BB">$condition</span><span style="color: #007700">.</span><span style="color: #DD0000">')'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />}</span>
</span>
</code></div>
</div>
<p>Appends a condition to the existing <a href="/doc/api/1.1/CDbCriteria#condition">condition</a>.
The new condition and the existing condition will be concatenated via the specified operator
which defaults to 'AND'.
The new condition can also be an array. In this case, all elements in the array
will be concatenated together via the operator.
This method handles the case when the existing condition is empty.
After calling this method, the <a href="/doc/api/1.1/CDbCriteria#condition">condition</a> property will be modified.</p>


<div class="detailHeader" id="addInCondition-detail">
addInCondition()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public static <b>addInCondition</b>(string $column, array $values, string $operator='AND')</div>
</td></tr>
<tr>
  <td class="paramNameCol">$column</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the column name (or a valid SQL expression)</td>
</tr>
<tr>
  <td class="paramNameCol">$values</td>
  <td class="paramTypeCol">array</td>
  <td class="paramDescCol">list of values that the column value should be in</td>
</tr>
<tr>
  <td class="paramNameCol">$operator</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the operator used to concatenate the new condition with the existing one.
Defaults to 'AND'.</td>
</tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">static</td>
  <td class="paramDescCol">the criteria object itself</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L274">framework/db/schema/CDbCriteria.php#274</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">addInCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">,</span><span style="color: #0000BB">$values</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">=</span><span style="color: #DD0000">'AND'</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if((</span><span style="color: #0000BB">$n</span><span style="color: #007700">=</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">))&lt;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #DD0000">'0=1'</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;0=1&nbsp;is&nbsp;used&nbsp;because&nbsp;in&nbsp;MSSQL&nbsp;value&nbsp;alone&nbsp;can't&nbsp;be&nbsp;used&nbsp;in&nbsp;WHERE<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">elseif(</span><span style="color: #0000BB">$n</span><span style="color: #007700">===</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #0000BB">reset</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$value</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;IS&nbsp;NULL'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">.</span><span style="color: #DD0000">'='</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">=array();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$values&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">[]=</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;IN&nbsp;('</span><span style="color: #007700">.</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">',&nbsp;'</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">).</span><span style="color: #DD0000">')'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">);<br />}</span>
</span>
</code></div>
</div>
<p>Appends an IN condition to the existing <a href="/doc/api/1.1/CDbCriteria#condition">condition</a>.
The IN condition and the existing condition will be concatenated via the specified operator
which defaults to 'AND'.
The IN condition is generated by using the SQL IN operator which requires the specified
column value to be among the given list of values.</p>


<div class="detailHeader" id="addNotInCondition-detail">
addNotInCondition()
<span class="detailHeaderTag">
method
(available since v1.1.1)
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public static <b>addNotInCondition</b>(string $column, array $values, string $operator='AND')</div>
</td></tr>
<tr>
  <td class="paramNameCol">$column</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the column name (or a valid SQL expression)</td>
</tr>
<tr>
  <td class="paramNameCol">$values</td>
  <td class="paramTypeCol">array</td>
  <td class="paramDescCol">list of values that the column value should not be in</td>
</tr>
<tr>
  <td class="paramNameCol">$operator</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the operator used to concatenate the new condition with the existing one.
Defaults to 'AND'.</td>
</tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">static</td>
  <td class="paramDescCol">the criteria object itself</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L315">framework/db/schema/CDbCriteria.php#315</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">addNotInCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">,</span><span style="color: #0000BB">$values</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">=</span><span style="color: #DD0000">'AND'</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if((</span><span style="color: #0000BB">$n</span><span style="color: #007700">=</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">))&lt;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$n</span><span style="color: #007700">===</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #0000BB">reset</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$value</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;IS&nbsp;NOT&nbsp;NULL'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">.</span><span style="color: #DD0000">'!='</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">=array();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$values&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">[]=</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;NOT&nbsp;IN&nbsp;('</span><span style="color: #007700">.</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">',&nbsp;'</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">).</span><span style="color: #DD0000">')'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">);<br />}</span>
</span>
</code></div>
</div>
<p>Appends an NOT IN condition to the existing <a href="/doc/api/1.1/CDbCriteria#condition">condition</a>.
The NOT IN condition and the existing condition will be concatenated via the specified operator
which defaults to 'AND'.
The NOT IN condition is generated by using the SQL NOT IN operator which requires the specified
column value to be among the given list of values.</p>


<div class="detailHeader" id="addSearchCondition-detail">
addSearchCondition()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public static <b>addSearchCondition</b>(string $column, string $keyword, boolean $escape=true, string $operator='AND', string $like='LIKE')</div>
</td></tr>
<tr>
  <td class="paramNameCol">$column</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the column name (or a valid SQL expression)</td>
</tr>
<tr>
  <td class="paramNameCol">$keyword</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the search keyword. This interpretation of the keyword is affected by the next parameter.</td>
</tr>
<tr>
  <td class="paramNameCol">$escape</td>
  <td class="paramTypeCol">boolean</td>
  <td class="paramDescCol">whether the keyword should be escaped if it contains characters % or _.
When this parameter is true (default), the special characters % (matches 0 or more characters)
and _ (matches a single character) will be escaped, and the keyword will be surrounded with a %
character on both ends. When this parameter is false, the keyword will be directly used for
matching without any change.</td>
</tr>
<tr>
  <td class="paramNameCol">$operator</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the operator used to concatenate the new condition with the existing one.
Defaults to 'AND'.</td>
</tr>
<tr>
  <td class="paramNameCol">$like</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the LIKE operator. Defaults to 'LIKE'. You may also set this to be 'NOT LIKE'.</td>
</tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">static</td>
  <td class="paramDescCol">the criteria object itself</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L251">framework/db/schema/CDbCriteria.php#251</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">addSearchCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">,</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">,</span><span style="color: #0000BB">$escape</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">=</span><span style="color: #DD0000">'AND'</span><span style="color: #007700">,</span><span style="color: #0000BB">$like</span><span style="color: #007700">=</span><span style="color: #DD0000">'LIKE'</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">==</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$escape</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">=</span><span style="color: #DD0000">'%'</span><span style="color: #007700">.</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'%'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'\%'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'_'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'\_'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'\\'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'\\\\'</span><span style="color: #007700">)).</span><span style="color: #DD0000">'%'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$condition</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">.</span><span style="color: #DD0000">"&nbsp;</span><span style="color: #0000BB">$like</span><span style="color: #DD0000">&nbsp;"</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++]=</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$operator</span><span style="color: #007700">);<br />}</span>
</span>
</code></div>
</div>
<p>Appends a search condition to the existing <a href="/doc/api/1.1/CDbCriteria#condition">condition</a>.
The search condition and the existing condition will be concatenated via the specified operator
which defaults to 'AND'.
The search condition is generated using the SQL LIKE operator with the given column name and
search keyword.</p>


<div class="detailHeader" id="compare-detail">
compare()
<span class="detailHeaderTag">
method
(available since v1.1.1)
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public static <b>compare</b>(string $column, mixed $value, boolean $partialMatch=false, string $operator='AND', boolean $escape=true)</div>
</td></tr>
<tr>
  <td class="paramNameCol">$column</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the name of the column to be searched</td>
</tr>
<tr>
  <td class="paramNameCol">$value</td>
  <td class="paramTypeCol">mixed</td>
  <td class="paramDescCol">the column value to be compared with. If the value is a string, the aforementioned
intelligent comparison will be conducted. If the value is an array, the comparison is done
by exact match of any of the value in the array. If the string or the array is empty,
the existing search condition will not be modified.</td>
</tr>
<tr>
  <td class="paramNameCol">$partialMatch</td>
  <td class="paramTypeCol">boolean</td>
  <td class="paramDescCol">whether the value should consider partial text match (using LIKE and NOT LIKE operators).
Defaults to false, meaning exact comparison.</td>
</tr>
<tr>
  <td class="paramNameCol">$operator</td>
  <td class="paramTypeCol">string</td>
  <td class="paramDescCol">the operator used to concatenate the new condition with the existing one.
Defaults to 'AND'.</td>
</tr>
<tr>
  <td class="paramNameCol">$escape</td>
  <td class="paramTypeCol">boolean</td>
  <td class="paramDescCol">whether the value should be escaped if $partialMatch is true and
the value contains characters % or _. When this parameter is true (default),
the special characters % (matches 0 or more characters)
and _ (matches a single character) will be escaped, and the value will be surrounded with a %
character on both ends. When this parameter is false, the value will be directly used for
matching without any change.</td>
</tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">static</td>
  <td class="paramDescCol">the criteria object itself</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L414">framework/db/schema/CDbCriteria.php#414</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">compare</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$partialMatch</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$operator</span><span style="color: #007700">=</span><span style="color: #DD0000">'AND'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$escape</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$value</span><span style="color: #007700">===array())<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addInCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$value</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^(?:\s*(&lt;&gt;|&lt;=|&gt;=|&lt;|&gt;|=))?(.*)$/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$matches</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$op</span><span style="color: #007700">=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$op</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$value</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$partialMatch</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$op</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addSearchCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$escape</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$op</span><span style="color: #007700">===</span><span style="color: #DD0000">'&lt;&gt;'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addSearchCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$escape</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">,</span><span style="color: #DD0000">'NOT&nbsp;LIKE'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;elseif(</span><span style="color: #0000BB">$op</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$op</span><span style="color: #007700">=</span><span style="color: #DD0000">'='</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addCondition</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">.</span><span style="color: #0000BB">$op</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">PARAM_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$paramCount</span><span style="color: #007700">++]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">;<br />}</span>
</span>
</code></div>
</div>
<p>Adds a comparison expression to the <a href="/doc/api/1.1/CDbCriteria#condition">condition</a> property.
<br/><br/>
This method is a helper that appends to the <a href="/doc/api/1.1/CDbCriteria#condition">condition</a> property
with a new comparison expression. The comparison is done by comparing a column
with the given value using some comparison operator.
<br/><br/>
The comparison operator is intelligently determined based on the first few
characters in the given value. In particular, it recognizes the following operators
if they appear as the leading characters in the given value:
<ul>
<li><code>&lt;</code>: the column must be less than the given value.</li>
<li><code>&gt;</code>: the column must be greater than the given value.</li>
<li><code>&lt;=</code>: the column must be less than or equal to the given value.</li>
<li><code>&gt;=</code>: the column must be greater than or equal to the given value.</li>
<li><code>&lt;&gt;</code>: the column must not be the same as the given value.
Note that when $partialMatch is true, this would mean the value must not be a substring
of the column.</li>
<li><code>=</code>: the column must be equal to the given value.</li>
<li>none of the above: the column must be equal to the given value. Note that when $partialMatch
is true, this would mean the value must be the same as the given value or be a substring of it.</li>
</ul>
<br/><br/>
Note that any surrounding white spaces will be removed from the value before comparison.
When the value is empty, no comparison expression will be added to the search condition.</p>


<div class="detailHeader" id="mergeWith-detail">
mergeWith()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public void <b>mergeWith</b>(mixed $criteria, string|boolean $operator='AND')</div>
</td></tr>
<tr>
  <td class="paramNameCol">$criteria</td>
  <td class="paramTypeCol">mixed</td>
  <td class="paramDescCol">the criteria to be merged with. Either an array or CDbCriteria.</td>
</tr>
<tr>
  <td class="paramNameCol">$operator</td>
  <td class="paramTypeCol">string|boolean</td>
  <td class="paramDescCol">the operator used to concatenate where and having conditions. Defaults to 'AND'.
For backwards compatibility a boolean value can be passed:
- 'false' for 'OR'
- 'true' for 'AND'</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L494">framework/db/schema/CDbCriteria.php#494</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">mergeWith</span><span style="color: #007700">(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">=</span><span style="color: #DD0000">'AND'</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">is_bool</span><span style="color: #007700">(</span><span style="color: #0000BB">$operator</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$operator</span><span style="color: #007700">=</span><span style="color: #0000BB">$operator&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #DD0000">'AND'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'OR'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">!==</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">===</span><span style="color: #DD0000">'*'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">!==</span><span style="color: #DD0000">'*'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$select1</span><span style="color: #007700">=</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">)?</span><span style="color: #0000BB">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">'/\s*,\s*/'</span><span style="color: #007700">,</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">),-</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">PREG_SPLIT_NO_EMPTY</span><span style="color: #007700">):</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$select2</span><span style="color: #007700">=</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">)?</span><span style="color: #0000BB">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">'/\s*,\s*/'</span><span style="color: #007700">,</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">),-</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">PREG_SPLIT_NO_EMPTY</span><span style="color: #007700">):</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">select</span><span style="color: #007700">=</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$select1</span><span style="color: #007700">,</span><span style="color: #0000BB">array_diff</span><span style="color: #007700">(</span><span style="color: #0000BB">$select2</span><span style="color: #007700">,</span><span style="color: #0000BB">$select1</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">!==</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">!==</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">=</span><span style="color: #DD0000">"(</span><span style="color: #007700">{</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">}</span><span style="color: #DD0000">)&nbsp;</span><span style="color: #0000BB">$operator</span><span style="color: #DD0000">&nbsp;(</span><span style="color: #007700">{</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">condition</span><span style="color: #007700">}</span><span style="color: #DD0000">)"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">!==</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">=</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">,</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">limit</span><span style="color: #007700">&gt;=</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">limit</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">limit</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">offset</span><span style="color: #007700">&gt;=</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">offset</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">offset</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">alias</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">alias</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">alias</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">!==</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">!==</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">.</span><span style="color: #DD0000">',&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">order</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">group</span><span style="color: #007700">!==</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">group</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">group</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">group</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">group</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">group</span><span style="color: #007700">!==</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">group</span><span style="color: #007700">.=</span><span style="color: #DD0000">',&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">group</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">join</span><span style="color: #007700">!==</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">join</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">join</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">join</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">join</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">join</span><span style="color: #007700">!==</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">join</span><span style="color: #007700">.=</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">join</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">having</span><span style="color: #007700">!==</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">having</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">having</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">having</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">having</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">having</span><span style="color: #007700">!==</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">having</span><span style="color: #007700">=</span><span style="color: #DD0000">"(</span><span style="color: #007700">{</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">having</span><span style="color: #007700">}</span><span style="color: #DD0000">)&nbsp;</span><span style="color: #0000BB">$operator</span><span style="color: #DD0000">&nbsp;(</span><span style="color: #007700">{</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">having</span><span style="color: #007700">}</span><span style="color: #DD0000">)"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">distinct</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">distinct</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">distinct</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">together</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">together</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">together</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">index</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">index</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">index</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(empty(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">scopes</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">scopes</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">scopes</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;elseif(!empty(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">scopes</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$scopes1</span><span style="color: #007700">=(array)</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">scopes</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$scopes2</span><span style="color: #007700">=(array)</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">scopes</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$scopes1&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$k</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">is_integer</span><span style="color: #007700">(</span><span style="color: #0000BB">$k</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$scopes</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$v</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(isset(</span><span style="color: #0000BB">$scopes2</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$scopes</span><span style="color: #007700">[]=array(</span><span style="color: #0000BB">$k</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$v</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$scopes</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]=</span><span style="color: #0000BB">$v</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$scopes2&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$k</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">is_integer</span><span style="color: #007700">(</span><span style="color: #0000BB">$k</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$scopes</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$v</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(isset(</span><span style="color: #0000BB">$scopes1</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$scopes</span><span style="color: #007700">[]=array(</span><span style="color: #0000BB">$k</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$v</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$scopes</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]=</span><span style="color: #0000BB">$v</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">scopes</span><span style="color: #007700">=</span><span style="color: #0000BB">$scopes</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(empty(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">=</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;elseif(!empty(</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">=(array)</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach((array)</span><span style="color: #0000BB">$criteria</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$k</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">is_integer</span><span style="color: #007700">(</span><span style="color: #0000BB">$k</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$v</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$excludes</span><span style="color: #007700">=array();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(array(</span><span style="color: #DD0000">'joinType'</span><span style="color: #007700">,</span><span style="color: #DD0000">'on'</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$opt</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">][</span><span style="color: #0000BB">$opt</span><span style="color: #007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$excludes</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">][</span><span style="color: #0000BB">$opt</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(isset(</span><span style="color: #0000BB">$v</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$excludes</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">]=&nbsp;(</span><span style="color: #0000BB">$opt</span><span style="color: #007700">===</span><span style="color: #DD0000">'on'&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;isset(</span><span style="color: #0000BB">$excludes</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">])&nbsp;&amp;&amp;&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">]!==</span><span style="color: #0000BB">$excludes</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">])&nbsp;?<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"(</span><span style="color: #0000BB">$excludes</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">]</span><span style="color: #DD0000">)&nbsp;AND&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">]</span><span style="color: #DD0000">"&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$v</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">][</span><span style="color: #0000BB">$opt</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$v</span><span style="color: #007700">[</span><span style="color: #0000BB">$opt</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]=new&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">mergeWith</span><span style="color: #007700">(</span><span style="color: #0000BB">$v</span><span style="color: #007700">,</span><span style="color: #0000BB">$operator</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">toArray</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$excludes</span><span style="color: #007700">)!==</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]=</span><span style="color: #0000BB">CMap</span><span style="color: #007700">::</span><span style="color: #0000BB">mergeArray</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">],</span><span style="color: #0000BB">$excludes</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">with</span><span style="color: #007700">[</span><span style="color: #0000BB">$k</span><span style="color: #007700">]=</span><span style="color: #0000BB">$v</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span>
</span>
</code></div>
</div>
<p>Merges with another criteria.
In general, the merging makes the resulting criteria more restrictive.
For example, if both criterias have conditions, they will be 'AND' together.
Also, the criteria passed as the parameter takes precedence in case
two options cannot be merged (e.g. LIMIT, OFFSET).</p>


<div class="detailHeader" id="toArray-detail">
toArray()
<span class="detailHeaderTag">
method
</span>
</div>

<table class="summaryTable">
<tr><td colspan="3">
<div class="signature2">
public array <b>toArray</b>()</div>
</td></tr>
<tr>
  <td class="paramNameCol">{return}</td>
  <td class="paramTypeCol">array</td>
  <td class="paramDescCol">the array representation of the criteria</td>
</tr>
</table>

<div class="sourceCode">
<b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.16/framework/db/schema/CDbCriteria.php#L637">framework/db/schema/CDbCriteria.php#637</a> (<b><a href="#" class="show">show</a></b>)
<div class="code"><code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">toArray</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">=array();<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach(array(</span><span style="color: #DD0000">'select'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'condition'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'params'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'limit'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'offset'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'order'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'group'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'join'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'having'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'distinct'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'scopes'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'with'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'alias'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'index'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'together'</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">;<br />}</span>
</span>
</code></div>
</div>
<p></p>



		        <div class="widget-comment-list" id="comments">
	<div class="comments">
		<h3>Total 8 comments</h3>
				<div class="comment alt-0">
			<a class="cid" id="c7422" title="permalink to this comment" href="#c7422">#7422</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=7422"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=7422&amp;vote=1"><span>3</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=7422&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link bronze" href="/user/54420/">c@cba</a> at 2012/03/21 07:02pm</div>
			<div class="title">use of &#039;join&#039; to implement  LEFT JOIN</div>
			<div class="content"><p>Let's say we have tables/models user and group, and user_group. One user can belong to many groups.<br />
We want to find the users <code>u</code> for which one of the following is true:</p>

<ol><li>there is an entry in user_group <code>ug</code> with <code>ug.user_id = u.id</code>, but <code>(group_id = 0)</code></li>
<li>there is no entry in user_group <code>ug</code> with <code>ug.user_id = u.id</code></li>
</ol><p>The following code accomplishes that:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-var">$criteria</span><span class="hl-code"> = </span><span class="hl-reserved">new</span> <span class="hl-identifier">CDbCriteria</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">mergeWith</span><span class="hl-brackets">(</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
    <span class="hl-quotes">'</span><span class="hl-string">join</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">LEFT JOIN user_group ug ON ug.user_id = t.id</span><span class="hl-quotes">'</span><span class="hl-code">,
    </span><span class="hl-quotes">'</span><span class="hl-string">condition</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">ug.group_id = 0 OR ug.group_id IS NULL</span><span class="hl-quotes">'</span><span class="hl-code">,
</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-identifier">User</span><span class="hl-code">::</span><span class="hl-identifier">model</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">findAll</span><span class="hl-brackets">(</span><span class="hl-var">$criteria</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c6856" title="permalink to this comment" href="#c6856">#6856</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=6856"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=6856&amp;vote=1"><span>6</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=6856&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link bronze" href="/user/6843/">marcovtwout</a> at 2012/02/09 08:27am</div>
			<div class="title">Different ways to compare column values with criteria</div>
			<div class="content"><p>These options all result in the exact same query: SELECT (..) WHERE (t.id=:ycp0).</p>

<p>Choose the one that you like best:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-var">$criteria</span><span class="hl-code"> = </span><span class="hl-reserved">new</span> <span class="hl-identifier">CDbCriteria</span><span class="hl-code">;
</span><span class="hl-comment">//</span><span class="hl-comment"> Classic method</span>
<span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">addCondition</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">t.id = :id</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">params</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">:id</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">app</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">user</span><span class="hl-code">-&gt;</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-comment">//</span><span class="hl-comment"> Often used in search functions. </span><span class="hl-inlinedoc">Note:</span><span class="hl-comment"> if passed value is empty, the WHERE is not added!</span>
<span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">compare</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">t.id</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">app</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">user</span><span class="hl-code">-&gt;</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-comment">//</span><span class="hl-comment"> This is my current favorite</span>
<span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">addColumnCondition</span><span class="hl-brackets">(</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">t.id</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">app</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">user</span><span class="hl-code">-&gt;</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-comment">//</span><span class="hl-comment"> A bit weird here, but you can also do this</span>
<span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">addInCondition</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">t.id</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-identifier">Yii</span><span class="hl-code">::</span><span class="hl-identifier">app</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span><span class="hl-code">-&gt;</span><span class="hl-identifier">user</span><span class="hl-code">-&gt;</span><span class="hl-identifier">id</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;</span></pre></div></div>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c6449" title="permalink to this comment" href="#c6449">#6449</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=6449"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=6449&amp;vote=1"><span>4</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=6449&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/39950/">gesti</a> at 2012/01/11 09:55am</div>
			<div class="title">$criteria-&gt;togeather = true;</div>
			<div class="content"><p>Not the first time I bump into this:
If your model has a HAS_MANY in relations and you want to join it up (in case for example you want to search in the related table as well), then next to setting up the with, you also need to set the together to true.
So in your model you have:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">class</span> <span class="hl-identifier">MyFirstTable</span> <span class="hl-reserved">extends</span> <span class="hl-identifier">CActiveRecord</span> <span class="hl-brackets">{</span><span class="hl-code">
...
    </span><span class="hl-reserved">public</span> <span class="hl-reserved">function</span> <span class="hl-identifier">relations</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span> <span class="hl-brackets">{</span>
        <span class="hl-reserved">return</span> <span class="hl-reserved">array</span><span class="hl-brackets">(</span>
            <span class="hl-quotes">'</span><span class="hl-string">mySecondTable</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-identifier">self</span><span class="hl-code">::</span><span class="hl-identifier">HAS_MANY</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">MySecondTable</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">second_table_id</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">,
        </span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span><span class="hl-code">
...
</span><span class="hl-brackets">}</span></pre></div></div>

<p>Then to be able to search in the second table data as well you need to have the search method like this:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-reserved">public</span> <span class="hl-reserved">function</span> <span class="hl-identifier">searchWithRelated</span><span class="hl-brackets">(</span><span class="hl-brackets">)</span> <span class="hl-brackets">{</span>
        <span class="hl-var">$criteria</span><span class="hl-code"> = </span><span class="hl-reserved">new</span> <span class="hl-identifier">CDbCriteria</span><span class="hl-code">;
 
        </span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">together</span><span class="hl-code"> = </span><span class="hl-reserved">true</span><span class="hl-code">; </span><span class="hl-comment">//</span><span class="hl-comment">without this you wont be able to search the second table's data</span>
        <span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">with</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">mySecondTable</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">compare</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">id</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-var">$this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">id</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;
        </span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">compare</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">mySecondTable.column</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-var">$this</span><span class="hl-code">-&gt;</span><span class="hl-identifier">mySecondTable_column</span><span class="hl-code">, </span><span class="hl-reserved">true</span><span class="hl-brackets">)</span><span class="hl-code">;
 
        </span><span class="hl-reserved">return</span> <span class="hl-reserved">new</span> <span class="hl-identifier">CActiveDataProvider</span><span class="hl-brackets">(</span><span class="hl-var">$this</span><span class="hl-code">, </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
            <span class="hl-quotes">'</span><span class="hl-string">criteria</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-var">$criteria</span><span class="hl-code">,
            </span><span class="hl-quotes">'</span><span class="hl-string">sort</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
                <span class="hl-quotes">'</span><span class="hl-string">defaultOrder</span><span class="hl-quotes">'</span><span class="hl-code">=&gt;</span><span class="hl-quotes">'</span><span class="hl-string">t.id DESC</span><span class="hl-quotes">'</span><span class="hl-code">,
            </span><span class="hl-brackets">)</span><span class="hl-code">,
            </span><span class="hl-quotes">'</span><span class="hl-string">pagination</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span>
                <span class="hl-quotes">'</span><span class="hl-string">pageSize</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-number">100</span><span class="hl-code">,
            </span><span class="hl-brackets">)</span><span class="hl-code">,
        </span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-brackets">}</span></pre></div></div>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c5751" title="permalink to this comment" href="#c5751">#5751</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=5751"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=5751&amp;vote=1"><span>2</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=5751&amp;vote=0"><span>2</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/214/">got 2 doodle</a> at 2011/11/09 11:43am</div>
			<div class="title">Don&#039;t waste time like I did.</div>
			<div class="content"><p>Watch out, the documentation for compare shows operators like this.
&lt;:  =:  &lt;=:  ..etc.
Don't include the comma!</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">compare</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">year(`EventStartdate`)</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">&gt;=:</span><span class="hl-quotes">'</span><span class="hl-code">.</span><span class="hl-var">$currentYear</span><span class="hl-brackets">)</span><span class="hl-code">; </span><span class="hl-comment">//</span><span class="hl-comment"> this will give the wrong results with absolutely no error</span>
<span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">compare</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">year(`EventStartdate`)</span><span class="hl-quotes">'</span><span class="hl-code">,</span><span class="hl-quotes">'</span><span class="hl-string">&gt;=</span><span class="hl-quotes">'</span><span class="hl-code">.</span><span class="hl-var">$currentYear</span><span class="hl-brackets">)</span><span class="hl-code">; </span><span class="hl-comment">//</span><span class="hl-comment"> this makes a greater than or equal to comparison.</span></pre></div></div>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c4414" title="permalink to this comment" href="#c4414">#4414</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=4414"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=4414&amp;vote=1"><span>10</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=4414&amp;vote=0"><span>1</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/18677/">rsingh</a> at 2011/07/06 03:17pm</div>
			<div class="title">When using LIMIT on a foreign tables column value, then </div>
			<div class="content"><p>In my case, I was trying to return the results of my query in a descending fashion, depending on a foreign table's column. So I used code like</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-var">$criteria</span><span class="hl-code"> = </span><span class="hl-reserved">new</span> <span class="hl-identifier">CDbCriteria</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">with</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">foreign_table1</span><span class="hl-quotes">'</span><span class="hl-code">,
                        </span><span class="hl-quotes">'</span><span class="hl-string">foreign_table2</span><span class="hl-quotes">'</span><span class="hl-code">, 
                        </span><span class="hl-quotes">'</span><span class="hl-string">foreign_table2.foreign_table3</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">select</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">id</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">condition</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">foreign_table1.col1=:col_val AND 
                        foreign_table3.col3=:col_val2</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">params</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">:col_val</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-identifier">some_val</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">:col_val2</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-identifier">other_val</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">order</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">foreign_table3.col5 DESC</span><span class="hl-quotes">'</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">limit</span><span class="hl-code"> = </span><span class="hl-number">10</span><span class="hl-code">;</span></pre></div></div>

<p>So, my SQL would crash because I would get a column not found error, or an access error. I spent a day focusing on my condition statement, when the problem was actually with the use of the limit command. Without the LIMIT command, I got my results. <em>With</em> the LIMIT command, an error</p>

<p>So, based upon looking around in the forum, the reason was that I should have used TOGETHER, as so:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-var">$criteria</span><span class="hl-code"> = </span><span class="hl-reserved">new</span> <span class="hl-identifier">CDbCriteria</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">with</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">foreign_table1</span><span class="hl-quotes">'</span><span class="hl-code">,
                        </span><span class="hl-quotes">'</span><span class="hl-string">foreign_table2</span><span class="hl-quotes">'</span><span class="hl-code">, 
                        </span><span class="hl-quotes">'</span><span class="hl-string">foreign_table2.foreign_table3</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">together</span><span class="hl-code"> = </span><span class="hl-reserved">true</span><span class="hl-code">; </span><span class="hl-comment">//</span><span class="hl-comment"> ADDED THIS</span>
<span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">select</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">id</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">condition</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">foreign_table1.col1=:col_val AND 
                        foreign_table3.col3=:col_val2</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">params</span><span class="hl-code"> = </span><span class="hl-reserved">array</span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">:col_val</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-identifier">some_val</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">:col_val2</span><span class="hl-quotes">'</span><span class="hl-code"> =&gt; </span><span class="hl-identifier">other_val</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">order</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">foreign_table3.col5 DESC</span><span class="hl-quotes">'</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">limit</span><span class="hl-code"> = </span><span class="hl-number">10</span><span class="hl-code">;</span></pre></div></div>

<p>Because TOGETHER links together your foreign tables and allows you to execute one sql statement, this is what is needed not only to make LIMIT for a foreign table's column to work</p>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c4327" title="permalink to this comment" href="#c4327">#4327</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=4327"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=4327&amp;vote=1"><span>0</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=4327&amp;vote=0"><span>2</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/10821/">pligor</a> at 2011/06/26 09:00am</div>
			<div class="title">order by desc</div>
			<div class="content"><p>Since it is not explicitly defined I tested that if you have a column named let's say "priority" then you can get the results in a descending order like this:</p>

<div class="hl-code"><div class="hl-main"><pre><span class="hl-var">$criteria</span><span class="hl-code">=</span><span class="hl-reserved">new</span> <span class="hl-identifier">CDbCriteria</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">select</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">priority</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-var">$criteria</span><span class="hl-code">-&gt;</span><span class="hl-identifier">order</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">priority desc</span><span class="hl-quotes">"</span><span class="hl-code">;</span></pre></div></div>
</div>
					</div>
				<div class="comment alt-0">
			<a class="cid" id="c259" title="permalink to this comment" href="#c259">#259</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=259"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=259&amp;vote=1"><span>4</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=259&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/1373/">edwaa</a> at 2010/07/26 03:29am</div>
			<div class="title">define &#039;condition&#039; before any &#039;compare&#039;</div>
			<div class="content"><p>If you set the 'condition' property after you've defined any 'compares' it will overwrite all the 'compare' statements. So, be sure to define 'condition' before you call the compare method.</p>
</div>
					</div>
				<div class="comment alt-1">
			<a class="cid" id="c1117" title="permalink to this comment" href="#c1117">#1117</a>
			<a class="widget-reporter" title="Please report to us if you find any inappropriate content." href="/site/report/?type=Comment&amp;id=1117"><span>report it</span></a>			<div class="widget-voter"><ul>
	<li class="vote up"><a title="Thumb up" class="g-login" href="/site/vote/?type=Comment&amp;id=1117&amp;vote=1"><span>1</span></a></li>
	<li class="vote down"><a title="Thumb down" class="g-login" href="/site/vote/?type=Comment&amp;id=1117&amp;vote=0"><span>0</span></a></li>
</ul>
<div class="clear"></div></div>			<div class="meta"><a class="g-user-rank-link" href="/user/1122/">romanoza</a> at 2009/12/04 10:22am</div>
			<div class="title">addCondition potential vulnerabilities</div>
			<div class="content"><p>If you use addCondition and your condition is a string, which contains SQL clauses, you should escape user supplied values.</p>
</div>
					</div>
			</div>
	<div id="comment-add">
		<h3 id="add-comment">Leave a comment</h3>

			<p>Please <a class="g-login" rel="/doc/api/1.1/CDbCriteria#add-comment" href="#">login</a> to leave your comment.</p>
		</div>
</div>
           </div>
</div>
					</div>
				
								<div class="clear"></div>
			</div>
			<div class="clear"></div>
					</div>
	</div>

	<div class="layout-main-footer">
		<div class="container_12">
			<div class="grid_6">
				<ul class="menu">
				<li class="main">About
<ul class="sub">
<li><a href="/about/">About Yii</a></li>
<li><a href="/features/">Features</a></li>
<li><a href="/performance/">Performance</a></li>
<li><a href="/license/">License</a></li>
<li><a href="/contact/">Contact Us</a></li>
</ul>
</li>
<li class="main">Downloads
<ul class="sub">
<li><a href="/download/">Framework</a></li>
<li><a href="/extensions/">Extensions</a></li>
<li><a href="/demos/">Demos</a></li>
<li><a href="/logo/">Logo</a></li>
</ul>
</li>
<li class="main">Documentation
<ul class="sub">
<li><a href="/tour/">Take the Tour</a></li>
<li><a href="/tutorials/">Tutorials</a></li>
<li><a href="/doc/api/">Class Reference</a></li>
<li><a href="/doc-2.0/guide-index.html">Guide 2.0</a></li>
<li><a href="/doc-2.0/index.html">Class Reference 2.0</a></li>
<li><a href="/wiki/">Wiki</a></li>
<li><a href="/screencasts/">Screencasts</a></li>
<li><a href="/resources/">Resources</a></li>
</ul>
</li>
<li class="main">Development
<ul class="sub">
<li><a href="/contribute/">Contribute to Yii</a></li>
<li><a href="https://github.com/yiisoft/yii/commits/master">Latest Updates</a></li>
<li><a href="https://github.com/yiisoft/yii/issues/new">Report a Bug</a></li>
<li><a href="/security/">Report a Security Issue</a></li>
</ul>
</li>
<li class="main">Community
<ul class="sub">
<li><a href="/forum/">Forum</a></li>
<li><a href="/chat/">Live Chat</a></li>
<li><a href="/news/">News</a></li>
<li><a href="/user/halloffame/">Hall of Fame</a></li>
<li><a href="/badges/">Badges</a></li>
</ul>
</li>
				</ul>
			</div>
			<div class="grid_1">&nbsp;</div>
			<div class="grid_5">
				<h3>Yii Supporters</h3>
				<ul class="g-list-none supporters">

				</ul>
			</div>

			<div class="clear"></div>
			<div class="grid_12 copyright">
				<ul class="social">
					<li class="twitter"><a href="https://twitter.com/yiiframework" target="_blank" rel="nofollow" title="follow us on twitter">Twitter</a></li>
					<li class="facebook"><a href="https://www.facebook.com/groups/yiitalk/" target="_blank" rel="nofollow" title="join yii group at facebook">Facebook</a></li>
					<li class="linkedin"><a href="http://www.linkedin.com/groups?gid=1483367" target="_blank" rel="nofollow" title="join yii group at linkedin">LinkedIn</a></li>
					<li class="feeds"><a title="RSS feeds" href="/rss.xml/">RSS Feeds</a></li>
				</ul>
				<div class="clear"></div>
				<a href="/tos/">Terms of Service</a> |
				<a href="/license/">License</a> |
				<a href="/contact/">Contact Us</a><br/>
				Copyright &copy; 2015 by <a href="http://www.yiisoft.com">Yii Software LLC</a>.
				All Rights Reserved.
			</div>
			<div class="clear"></div>
		</div>
	</div>
</div>

    <script type="text/javascript" src="/js/site-20121004195728.js"></script>


<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['site._setAccount', 'UA-5843896-1']);
_gaq.push(['site._trackPageview']);

(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<script type="text/javascript">
function trackClick(link, action, category) {
	action=action || link.href;
	category=category || 'Outbound Links';
	try {
		_gaq.push(['site._trackEvent', category, action]);
		setTimeout('document.location = "' + link.href + '"', 250);
	}catch(err){}
	return false;
}
</script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type="text/javascript" src="/assets/a5450804/jquery.cookie.js"></script>
<script type="text/javascript" src="/assets/a5450804/jquery.treeview.js"></script>
<script type="text/javascript" src="/assets/a5450804/jquery.treeview.async.js"></script>
<script type="text/javascript" src="/assets/a5450804/jquery.bgiframe.js"></script>
<script type="text/javascript" src="/assets/a5450804/jquery.dimensions.js"></script>
<script type="text/javascript" src="/assets/a5450804/jquery.ajaxqueue.js"></script>
<script type="text/javascript" src="/assets/a5450804/jquery.autocomplete.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
jQuery(function($) {
jQuery("#yw0").treeview({'animated':'fast'});
jQuery("#keyword").legacyautocomplete("/api/suggest/",{'minChars':2,'width':'458px','max':100,'scrollHeight':'300px','resultsClass':'ac_results api'}).result(function(event, item) {
			location.href = '/doc/api/1.1/'+item[0].replace(/\(\)/,'').replace(/\./,'#');
		});
});
/*]]>*/
</script>
</body>
</html>
